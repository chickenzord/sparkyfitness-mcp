{"openapi":"3.0.0","info":{"title":"SparkyFitness API","version":"1.0.0","description":"API documentation for the SparkyFitness application, providing a comprehensive guide to all available endpoints. Have caution using the API directly, as improper use may lead to data loss or corruption.  Also note that the API is subject to change without notice due to heavy development, so always refer to the latest documentation for up-to-date information. It might have flaw and due to vite/nginx internal proxy actual end point accessed via front end URL might be different than hitting them directly on the server.","contact":{"name":"SparkyFitness Support"}},"servers":[{"url":"/api","description":"Main API Server"}],"components":{"securitySchemes":{"cookieAuth":{"type":"apiKey","in":"cookie","name":"token","description":"Authentication token is stored in a secure, HTTP-only cookie named \"token\". Most endpoints require this for access."}},"schemas":{"Exercise":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the exercise."},"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns the exercise."},"name":{"type":"string","description":"The name of the exercise."},"category":{"type":"string","description":"The category of the exercise (e.g., \"Strength\", \"Cardio\")."},"equipment":{"type":"array","items":{"type":"string"},"description":"A list of equipment required for the exercise."},"muscle_groups":{"type":"array","items":{"type":"string"},"description":"A list of muscle groups targeted by the exercise."},"description":{"type":"string","description":"A detailed description of the exercise."},"instructions":{"type":"array","items":{"type":"string"},"description":"Step-by-step instructions for performing the exercise."},"images":{"type":"array","items":{"type":"string"},"description":"URLs or paths to images demonstrating the exercise."},"is_public":{"type":"boolean","description":"Indicates if the exercise is publicly available."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the exercise was created."},"updated_at":{"type":"string","format":"date-time","description":"The date and time when the exercise was last updated."}},"required":["id","user_id","name","category"]},"Food":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the food."},"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns the food."},"name":{"type":"string","description":"The name of the food."},"data":{"type":"object","description":"Nutritional data and other details of the food."},"is_public":{"type":"boolean","description":"Indicates if the food is publicly available."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the food was created."},"updated_at":{"type":"string","format":"date-time","description":"The date and time when the food was last updated."}},"required":["id","user_id","name","data"]},"FoodVariant":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the food variant."},"food_id":{"type":"string","format":"uuid","description":"The ID of the food this variant belongs to."},"serving_size":{"type":"string","description":"The serving size of the variant (e.g., \"1 cup\")."},"serving_weight":{"type":"number","description":"The weight of the serving in grams."},"data":{"type":"object","description":"Nutritional data for this specific variant."}},"required":["id","food_id","serving_size","serving_weight","data"]},"FoodEntryMeal":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the food entry meal."},"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns the food entry meal."},"meal_template_id":{"type":"string","format":"uuid","description":"The ID of the meal template used for this entry, if any."},"meal_type":{"type":"string","description":"The type of meal (e.g., \"Breakfast\", \"Lunch\", \"Dinner\")."},"meal_type_id":{"type":"string","format":"uuid","description":"The ID of the meal type."},"entry_date":{"type":"string","format":"date","description":"The date of the food entry meal (YYYY-MM-DD)."},"name":{"type":"string","description":"The name of the food entry meal."},"description":{"type":"string","description":"A description of the food entry meal."},"foods":{"type":"array","items":{"type":"object","properties":{"food_id":{"type":"string","format":"uuid","description":"The ID of the food item."},"quantity":{"type":"number","description":"The quantity of the food item."},"unit":{"type":"string","description":"The unit of measurement for the food item."}},"required":["food_id","quantity","unit"]},"description":"A list of food items included in the meal."},"quantity":{"type":"number","description":"The total quantity of the meal."},"unit":{"type":"string","description":"The unit of measurement for the meal."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the food entry meal was created."},"updated_at":{"type":"string","format":"date-time","description":"The date and time when the food entry meal was last updated."}},"required":["user_id","meal_type","entry_date","name","foods","quantity","unit"]},"MealDayPreset":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the meal day preset."},"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns the meal day preset."},"name":{"type":"string","description":"The name of the meal day preset."},"description":{"type":"string","description":"A description of the meal day preset."},"meals":{"type":"array","items":{"type":"object","properties":{"meal_type":{"type":"string","description":"The type of meal (e.g., \"Breakfast\", \"Lunch\")."},"food_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"List of food IDs included in this meal."}},"required":["meal_type","food_ids"]},"description":"The meals included in this preset."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the meal day preset was created."},"updated_at":{"type":"string","format":"date-time","description":"The date and time when the meal day preset was last updated."}},"required":["user_id","name","meals"]},"MealPlanTemplate":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the meal plan template."},"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns the meal plan template."},"name":{"type":"string","description":"The name of the meal plan template."},"description":{"type":"string","description":"A description of the meal plan template."},"day_presets":{"type":"array","items":{"type":"object","properties":{"day_of_week":{"type":"string","enum":["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],"description":"The day of the week for this preset."},"meal_day_preset_id":{"type":"string","format":"uuid","description":"The ID of the meal day preset to use for this day."}},"required":["day_of_week","meal_day_preset_id"]},"description":"The meal day presets assigned to each day of the week."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the meal plan template was created."},"updated_at":{"type":"string","format":"date-time","description":"The date and time when the meal plan template was last updated."}},"required":["user_id","name","day_presets"]},"MealType":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the meal type."},"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns the meal type (null for system defaults)."},"name":{"type":"string","description":"The name of the meal type (e.g., \"Breakfast\", \"Lunch\")."},"sort_order":{"type":"integer","description":"The order in which meal types should be displayed."},"is_system_default":{"type":"boolean","description":"Indicates if this is a system default meal type."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the meal type was created."},"updated_at":{"type":"string","format":"date-time","description":"The date and time when the meal type was last updated."}},"required":["id","name","sort_order","is_system_default"]},"CustomNutrient":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the custom nutrient."},"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns the custom nutrient."},"name":{"type":"string","description":"The name of the custom nutrient."},"unit":{"type":"string","description":"The unit of measurement for the custom nutrient."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the custom nutrient was created."},"updated_at":{"type":"string","format":"date-time","description":"The date and time when the custom nutrient was last updated."}},"required":["id","user_id","name","unit"]},"NutrientDisplayPreference":{"type":"object","properties":{"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns the preference."},"view_group":{"type":"string","description":"The group for which the preference applies (e.g., \"daily\", \"meal\")."},"platform":{"type":"string","description":"The platform for which the preference applies (e.g., \"web\", \"mobile\")."},"visible_nutrients":{"type":"array","items":{"type":"string"},"description":"An array of nutrient names that should be visible."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the preference was created."},"updated_at":{"type":"string","format":"date-time","description":"The date and time when the preference was last updated."}},"required":["user_id","view_group","platform","visible_nutrients"]},"ExerciseEntry":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the exercise entry."},"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns the exercise entry."},"exercise_id":{"type":"string","format":"uuid","description":"The ID of the exercise performed."},"duration_minutes":{"type":"number","description":"The duration of the exercise in minutes."},"calories_burned":{"type":"number","description":"The number of calories burned during the exercise."},"entry_date":{"type":"string","format":"date","description":"The date of the exercise entry (YYYY-MM-DD)."},"notes":{"type":"string","description":"Any additional notes for the exercise entry."},"sets":{"type":"array","items":{"type":"object","properties":{"reps":{"type":"number"},"weight":{"type":"number"},"duration":{"type":"number"}}},"description":"Details of sets performed (reps, weight, duration)."},"reps":{"type":"number","description":"Total repetitions (if not detailed in sets)."},"weight":{"type":"number","description":"Weight used (if not detailed in sets)."},"workout_plan_assignment_id":{"type":"string","format":"uuid","description":"The ID of the workout plan assignment this entry belongs to."},"image_url":{"type":"string","format":"url","description":"URL to an image associated with the exercise entry."},"distance":{"type":"number","description":"Distance covered for cardio exercises."},"avg_heart_rate":{"type":"number","description":"Average heart rate during the exercise."},"activity_details":{"type":"object","description":"Additional activity-specific details (JSONB)."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the exercise entry was created."},"updated_at":{"type":"string","format":"date-time","description":"The date and time when the exercise entry was last updated."}},"required":["user_id","exercise_id","entry_date"]},"ExercisePresetEntry":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the exercise preset entry."},"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns the entry."},"workout_preset_id":{"type":"integer","format":"uuid","description":"The ID of the workout preset this entry originated from."},"name":{"type":"string","description":"The name of the logged workout."},"description":{"type":"string","description":"A description of the logged workout."},"entry_date":{"type":"string","format":"date","description":"The date the workout was logged (YYYY-MM-DD)."},"notes":{"type":"string","description":"Additional notes for the logged workout."},"source":{"type":"string","description":"The source of the entry (e.g., \"manual\", \"Garmin Connect\")."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the entry was created."},"updated_at":{"type":"string","format":"date-time","description":"The date and time when the entry was last updated."}},"required":["user_id","workout_preset_id","name","entry_date"]},"FastingLog":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the fasting log."},"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns the fasting log."},"start_time":{"type":"string","format":"date-time","description":"The date and time when the fast started."},"target_end_time":{"type":"string","format":"date-time","description":"The scheduled or target end time for the fast."},"end_time":{"type":"string","format":"date-time","description":"The date and time when the fast ended (null for active fasts)."},"duration_minutes":{"type":"integer","description":"The total duration of the fast in minutes."},"fasting_type":{"type":"string","description":"The type of fast (e.g., \"16:8\", \"20:4\", \"OMAD\")."},"status":{"type":"string","enum":["ACTIVE","COMPLETED"],"description":"The status of the fasting log."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the log was created."},"updated_at":{"type":"string","format":"date-time","description":"The date and time when the log was last updated."}},"required":["id","user_id","start_time","fasting_type","status"]},"WorkoutPreset":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user_id":{"type":"string","format":"uuid"},"name":{"type":"string"},"description":{"type":"string"},"is_public":{"type":"boolean"},"exercises":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"exercise_id":{"type":"string","format":"uuid"},"exercise_name":{"type":"string"},"image_url":{"type":"string","nullable":true},"sets":{"type":"array","items":{"$ref":"#/components/schemas/WorkoutSet"}}}}},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}},"required":["id","user_id","name"]},"WorkoutSet":{"type":"object","properties":{"id":{"type":"integer","description":"Internal ID of the set"},"set_number":{"type":"integer"},"set_type":{"type":"string","description":"e.g., \"Normal\", \"Warmup\", \"Dropset\""},"reps":{"type":"integer","nullable":true},"weight":{"type":"number","nullable":true},"duration":{"type":"integer","nullable":true,"description":"Duration in seconds"},"rest_time":{"type":"integer","nullable":true,"description":"Rest time in seconds"},"notes":{"type":"string","nullable":true}},"required":["set_number","set_type"]},"WorkoutPlanTemplate":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user_id":{"type":"string","format":"uuid"},"plan_name":{"type":"string"},"description":{"type":"string"},"start_date":{"type":"string","format":"date-time"},"end_date":{"type":"string","format":"date-time","nullable":true},"is_active":{"type":"boolean"},"assignments":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"day_of_week":{"type":"integer","description":"0-6 (Sunday-Saturday)"},"workout_preset_id":{"type":"string","format":"uuid","nullable":true},"workout_preset_name":{"type":"string","nullable":true},"exercise_id":{"type":"string","format":"uuid","nullable":true},"exercise_name":{"type":"string","nullable":true},"sets":{"type":"array","items":{"$ref":"#/components/schemas/WorkoutSet"}}}}},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}},"required":["id","user_id","plan_name","start_date","is_active"]},"WeeklyGoalPlan":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user_id":{"type":"string","format":"uuid"},"plan_name":{"type":"string"},"start_date":{"type":"string","format":"date"},"end_date":{"type":"string","format":"date","nullable":true},"is_active":{"type":"boolean"},"monday_preset_id":{"type":"string","format":"uuid","nullable":true},"tuesday_preset_id":{"type":"string","format":"uuid","nullable":true},"wednesday_preset_id":{"type":"string","format":"uuid","nullable":true},"thursday_preset_id":{"type":"string","format":"uuid","nullable":true},"friday_preset_id":{"type":"string","format":"uuid","nullable":true},"saturday_preset_id":{"type":"string","format":"uuid","nullable":true},"sunday_preset_id":{"type":"string","format":"uuid","nullable":true},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}},"required":["id","user_id","plan_name","start_date","is_active"]},"MoodEntry":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user_id":{"type":"string","format":"uuid"},"mood_value":{"type":"integer","description":"Mood value (e.g., 1-5 or 0-10)"},"notes":{"type":"string","nullable":true},"entry_date":{"type":"string","format":"date"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}},"required":["mood_value","entry_date"]},"SleepEntry":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user_id":{"type":"string","format":"uuid"},"entry_date":{"type":"string","format":"date"},"bedtime":{"type":"string","format":"date-time"},"wake_time":{"type":"string","format":"date-time"},"duration_in_seconds":{"type":"integer"},"source":{"type":"string"},"sleep_score":{"type":"integer","nullable":true},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}},"required":["entry_date","bedtime","wake_time","duration_in_seconds"]},"SleepAnalytics":{"type":"object","properties":{"date":{"type":"string","format":"date"},"totalSleepDuration":{"type":"integer"},"timeAsleep":{"type":"integer"},"sleepScore":{"type":"number"},"earliestBedtime":{"type":"string","format":"date-time","nullable":true},"latestWakeTime":{"type":"string","format":"date-time","nullable":true},"sleepEfficiency":{"type":"number"},"sleepDebt":{"type":"number"},"stagePercentages":{"type":"object","additionalProperties":{"type":"number"}},"awakePeriods":{"type":"integer"},"totalAwakeDuration":{"type":"integer"}}},"WaterIntake":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user_id":{"type":"string","format":"uuid"},"entry_date":{"type":"string","format":"date"},"total_volume":{"type":"number"},"servings_count":{"type":"number"},"container_id":{"type":"string","format":"uuid","nullable":true},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}},"required":["entry_date","total_volume"]},"WaterContainer":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user_id":{"type":"string","format":"uuid"},"name":{"type":"string"},"volume":{"type":"number","description":"Volume in specified unit"},"unit":{"type":"string","description":"ml, oz, etc."},"is_primary":{"type":"boolean"},"servings_per_container":{"type":"number"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}},"required":["name","volume","unit"]},"CheckInMeasurement":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user_id":{"type":"string","format":"uuid"},"entry_date":{"type":"string","format":"date"},"weight":{"type":"number","nullable":true},"body_fat_percentage":{"type":"number","nullable":true},"waist_circumference":{"type":"number","nullable":true},"hip_circumference":{"type":"number","nullable":true},"chest_circumference":{"type":"number","nullable":true},"thigh_circumference":{"type":"number","nullable":true},"bicep_circumference":{"type":"number","nullable":true},"neck_circumference":{"type":"number","nullable":true},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}},"required":["entry_date"]},"CustomMeasurementCategory":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user_id":{"type":"string","format":"uuid","nullable":true},"category_name":{"type":"string"},"unit":{"type":"string","nullable":true},"data_type":{"type":"string","enum":["numeric","boolean","text"]},"measurement_type":{"type":"string","nullable":true},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}},"required":["category_name","data_type"]},"CustomMeasurementEntry":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user_id":{"type":"string","format":"uuid"},"category_id":{"type":"string","format":"uuid"},"value":{"type":"string","description":"Value as string, castable based on category data_type"},"entry_date":{"type":"string","format":"date"},"entry_hour":{"type":"integer","nullable":true},"entry_timestamp":{"type":"string","format":"date-time","nullable":true},"notes":{"type":"string","nullable":true},"source":{"type":"string"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}},"required":["category_id","value","entry_date"]},"UserGoal":{"type":"object","properties":{"goal_date":{"type":"string","format":"date","nullable":true},"calories":{"type":"number"},"protein":{"type":"number"},"carbs":{"type":"number"},"fat":{"type":"number"},"water_goal_ml":{"type":"number"},"protein_percentage":{"type":"number"},"carbs_percentage":{"type":"number"},"fat_percentage":{"type":"number"},"target_exercise_calories_burned":{"type":"number","nullable":true},"target_exercise_duration_minutes":{"type":"integer","nullable":true}}},"GoalPreset":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"user_id":{"type":"string","format":"uuid"},"preset_name":{"type":"string"},"calories":{"type":"number"},"protein":{"type":"number"},"carbs":{"type":"number"},"fat":{"type":"number"},"water_goal":{"type":"number"},"protein_percentage":{"type":"number"},"carbs_percentage":{"type":"number"},"fat_percentage":{"type":"number"}},"required":["preset_name","calories"]},"UserPreferences":{"type":"object","properties":{"user_id":{"type":"string","format":"uuid"},"language":{"type":"string"},"theme":{"type":"string"},"timezone":{"type":"string"},"unit_system":{"type":"string","enum":["metric","imperial"]},"meal_calorie_distribution":{"type":"object"}}},"OnboardingStatus":{"type":"object","properties":{"onboarding_complete":{"type":"boolean"}}},"OidcProvider":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"provider_name":{"type":"string"},"issuer":{"type":"string"},"client_id":{"type":"string"},"client_secret":{"type":"string"},"redirect_uri":{"type":"string"},"scopes":{"type":"string"},"discovery_url":{"type":"string"},"is_active":{"type":"boolean"}},"required":["provider_name","issuer","client_id","client_secret","redirect_uri"]},"GarminStatus":{"type":"object","properties":{"is_connected":{"type":"boolean"},"last_sync_at":{"type":"string","format":"date-time","nullable":true}}},"WithingsStatus":{"type":"object","properties":{"is_connected":{"type":"boolean"},"last_sync_at":{"type":"string","format":"date-time","nullable":true}}},"GlobalSettings":{"type":"object","properties":{"enable_email_password_login":{"type":"boolean"},"is_oidc_active":{"type":"boolean"},"is_mfa_mandatory":{"type":"boolean"}}},"AppReview":{"type":"object","properties":{"rating":{"type":"integer","minimum":1,"maximum":5},"comment":{"type":"string","nullable":true},"created_at":{"type":"string","format":"date-time"}},"required":["rating"]},"User":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the user."},"email":{"type":"string","format":"email","description":"The user's email address."},"role":{"type":"string","enum":["user","admin"],"description":"The user's role in the system."},"is_active":{"type":"boolean","description":"Indicates if the user account is active."},"full_name":{"type":"string","nullable":true,"description":"The user's full name."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the user account was created."},"last_login_at":{"type":"string","format":"date-time","nullable":true,"description":"The date and time of the user's last login."}},"required":["id","email","role","is_active"]},"BackupSettings":{"type":"object","properties":{"backupEnabled":{"type":"boolean"},"backupDays":{"type":"array","items":{"type":"string"}},"backupTime":{"type":"string"},"retentionDays":{"type":"integer"},"lastBackupStatus":{"type":"string"},"lastBackupTimestamp":{"type":"string","format":"date-time"},"backupLocation":{"type":"string"}}},"ExternalProvider":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the external provider."},"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns this provider configuration."},"provider_name":{"type":"string","description":"The name of the external provider (e.g., \"Garmin\", \"Withings\")."},"provider_type":{"type":"string","description":"The type of the external provider (e.g., \"health\", \"fitness\")."},"client_id":{"type":"string","description":"The client ID for API access."},"client_secret":{"type":"string","description":"The client secret for API access."},"access_token":{"type":"string","description":"The access token for API access."},"refresh_token":{"type":"string","description":"The refresh token for API access."},"expires_at":{"type":"string","format":"date-time","description":"The expiration date and time of the access token."},"scope":{"type":"string","description":"The granted API scopes."},"created_at":{"type":"string","format":"date-time","description":"The date and time when the provider was configured."},"updated_at":{"type":"string","format":"date-time","description":"The date and time when the provider was last updated."}},"required":["user_id","provider_name","provider_type"]},"NutritionSummary":{"type":"object","properties":{"total_calories":{"type":"number"},"total_protein":{"type":"number"},"total_carbs":{"type":"number"},"total_fat":{"type":"number"},"total_saturated_fat":{"type":"number"},"total_polyunsaturated_fat":{"type":"number"},"total_monounsaturated_fat":{"type":"number"},"total_trans_fat":{"type":"number"},"total_cholesterol":{"type":"number"},"total_sodium":{"type":"number"},"total_potassium":{"type":"number"},"total_dietary_fiber":{"type":"number"},"total_sugars":{"type":"number"},"total_vitamin_a":{"type":"number"},"total_vitamin_c":{"type":"number"},"total_calcium":{"type":"number"},"total_iron":{"type":"number"}}},"FoodEntry":{"type":"object","required":["user_id","meal_type_id","quantity","unit","entry_date","food_name","calories"],"properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the food entry."},"user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns this food entry."},"food_id":{"type":"string","format":"uuid","description":"The ID of the food, if this entry is linked to a food in the database."},"meal_id":{"type":"string","format":"uuid","description":"The ID of the meal, if this entry is part of a meal."},"meal_type_id":{"type":"string","format":"uuid","description":"The ID of the meal type (e.g., breakfast, lunch, dinner)."},"quantity":{"type":"number","description":"The quantity of the food consumed."},"unit":{"type":"string","description":"The unit of measurement for the quantity (e.g., grams, oz, serving)."},"entry_date":{"type":"string","format":"date","description":"The date the food was consumed."},"variant_id":{"type":"string","format":"uuid","description":"The ID of the food variant, if applicable."},"food_entry_meal_id":{"type":"string","format":"uuid","description":"The ID of the food entry meal, if this entry is part of a larger meal entry."},"food_name":{"type":"string","description":"The name of the food."},"brand_name":{"type":"string","description":"The brand name of the food."},"serving_size":{"type":"number","description":"The size of a single serving."},"serving_unit":{"type":"string","description":"The unit for the serving size."},"calories":{"type":"number","description":"The number of calories."},"protein":{"type":"number"},"carbs":{"type":"number"},"fat":{"type":"number"},"saturated_fat":{"type":"number"},"polyunsaturated_fat":{"type":"number"},"monounsaturated_fat":{"type":"number"},"trans_fat":{"type":"number"},"cholesterol":{"type":"number"},"sodium":{"type":"number"},"potassium":{"type":"number"},"dietary_fiber":{"type":"number"},"sugars":{"type":"number"},"vitamin_a":{"type":"number"},"vitamin_c":{"type":"number"},"calcium":{"type":"number"},"iron":{"type":"number"},"glycemic_index":{"type":"number"},"custom_nutrients":{"type":"object","description":"A JSON object for storing custom nutrient data."}}}},"/admin/auth/settings/mfa-mandatory":{"get":{"tags":["Identity & Security"],"summary":"Get global MFA mandatory setting","description":"Retrieves the current global setting for mandatory Multi-Factor Authentication. Requires admin privileges.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Successfully retrieved MFA mandatory setting.","content":{"application/json":{"schema":{"type":"object","properties":{"isMfaMandatory":{"type":"boolean","description":"Indicates if MFA is globally mandatory."}}}}}},"401":{"description":"Unauthorized: Authentication token missing or invalid."},"403":{"description":"Forbidden: User does not have admin privileges."},"500":{"description":"Internal Server Error."}}},"put":{"tags":["Identity & Security"],"summary":"Update global MFA mandatory setting","description":"Updates the global setting for mandatory Multi-Factor Authentication. Requires admin privileges.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"isMfaMandatory":{"type":"boolean","description":"New value for the global MFA mandatory setting."}},"required":["isMfaMandatory"]}}}},"responses":{"200":{"description":"Global MFA mandatory setting updated successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Global MFA mandatory setting updated to true."}}}}}},"400":{"description":"Bad Request: Invalid input data."},"401":{"description":"Unauthorized: Authentication token missing or invalid."},"403":{"description":"Forbidden: User does not have admin privileges."},"500":{"description":"Internal Server Error."}}}},"/admin/auth/users/{userId}/mfa/reset":{"post":{"tags":["Identity & Security"],"summary":"Reset a user's MFA","description":"Allows an administrator to reset Multi-Factor Authentication for a specific user. Requires admin privileges.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The unique identifier of the user whose MFA is to be reset."}],"responses":{"200":{"description":"User MFA reset successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"MFA for user {userId} has been reset."}}}}}},"401":{"description":"Unauthorized: Authentication token missing or invalid."},"403":{"description":"Forbidden: User does not have admin privileges."},"404":{"description":"Not Found: User not found."},"500":{"description":"Internal Server Error."}}}}},"security":[{"cookieAuth":[]}],"tags":[{"name":"Identity & Security","description":"User authentication, registration, profile management, MFA, and access control."},{"name":"Nutrition & Meals","description":"Food database, diary logging, meal planning, and nutritional preferences."},{"name":"Fitness & Workouts","description":"Exercise database, workout presets, plan templates, and activity logging."},{"name":"Wellness & Metrics","description":"Health metrics tracking (weight, measurements, sleep, mood) and fasting."},{"name":"Goals & Personalization","description":"Personal goal setting, goal presets, and application preferences."},{"name":"External Integrations","description":"Third-party service connections (Garmin, Withings, OIDC, etc.)."},{"name":"System & Admin","description":"System configuration, administrative tasks, backups, reviews, and versioning."},{"name":"AI & Insights","description":"AI-powered chat assistance, reports, trends, and analytical insights."}],"paths":{"/admin-auth/settings/mfa-mandatory":{"get":{"summary":"Get global MFA mandatory setting","tags":["Identity & Security"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Global MFA mandatory setting.","content":{"application/json":{"schema":{"type":"object","properties":{"isMfaMandatory":{"type":"boolean"}}}}}},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"500":{"description":"Server error."}}},"put":{"summary":"Update global MFA mandatory setting","tags":["Identity & Security"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"isMfaMandatory":{"type":"boolean"}},"required":["isMfaMandatory"]}}}},"responses":{"200":{"description":"Global MFA mandatory setting updated.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Invalid request body."},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"500":{"description":"Server error."}}}},"/admin-auth/users/{userId}/mfa/reset":{"post":{"summary":"Reset a user's MFA","tags":["Identity & Security"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"userId","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the user whose MFA to reset."}],"responses":{"200":{"description":"User MFA reset successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"404":{"description":"User not found."},"500":{"description":"Server error."}}}},"/admin/users":{"get":{"summary":"Get all users with pagination and search","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"limit","schema":{"type":"integer","default":10},"description":"The maximum number of users to return."},{"in":"query","name":"offset","schema":{"type":"integer","default":0},"description":"The number of users to skip before starting to return results."},{"in":"query","name":"searchTerm","schema":{"type":"string"},"description":"Search term for user names or emails."}],"responses":{"200":{"description":"A list of users.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"500":{"description":"Server error."}}}},"/admin/users/{userId}":{"delete":{"summary":"Delete a user","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"userId","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the user to delete."}],"responses":{"200":{"description":"User deleted successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden (e.g., cannot delete primary admin)."},"404":{"description":"User not found."},"500":{"description":"Server error."}}}},"/admin/users/{userId}/status":{"put":{"summary":"Update user status (active/inactive)","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"userId","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the user to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"isActive":{"type":"boolean"}},"required":["isActive"]}}}},"responses":{"200":{"description":"User status updated successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Invalid request body."},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden (e.g., cannot change primary admin status)."},"404":{"description":"User not found."},"500":{"description":"Server error."}}}},"/admin/users/{userId}/role":{"put":{"summary":"Update user role (user/admin)","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"userId","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the user to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"role":{"type":"string","enum":["user","admin"]}},"required":["role"]}}}},"responses":{"200":{"description":"User role updated successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Invalid request body."},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden (e.g., cannot change primary admin role)."},"404":{"description":"User not found."},"500":{"description":"Server error."}}}},"/admin/users/{userId}/full-name":{"put":{"summary":"Update user's full name","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"userId","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the user to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"fullName":{"type":"string"}},"required":["fullName"]}}}},"responses":{"200":{"description":"User full name updated successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Invalid request body."},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"404":{"description":"User not found."},"500":{"description":"Server error."}}}},"/admin/users/{userId}/reset-password":{"post":{"summary":"Initiate a password reset for a user","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"userId","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the user to reset the password for."}],"responses":{"200":{"description":"Password reset email sent successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"404":{"description":"User not found."},"500":{"description":"Server error."}}}},"/backup/manual":{"post":{"summary":"Trigger a manual backup","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Backup completed successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"path":{"type":"string"},"fileName":{"type":"string"}}}}}},"500":{"description":"Server error during backup."}}}},"/backup/restore":{"post":{"summary":"Upload and restore a backup","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"backupFile":{"type":"string","format":"binary","description":"The backup file to upload."}}}}}},"responses":{"200":{"description":"Restore completed successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"No backup file uploaded."},"500":{"description":"Server error during restore."}}}},"/backup/settings":{"get":{"summary":"Get backup settings","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Backup settings retrieved successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupSettings"}}}},"500":{"description":"Server error."}}},"post":{"summary":"Update backup settings","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"backupEnabled":{"type":"boolean"},"backupDays":{"type":"array","items":{"type":"string"}},"backupTime":{"type":"string"},"retentionDays":{"type":"integer"}}}}}},"responses":{"200":{"description":"Backup settings saved successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"settings":{"$ref":"#/components/schemas/BackupSettings"}}}}}},"500":{"description":"Server error."}}}},"/chat":{"post":{"summary":"Process a chat message or save AI service settings","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","enum":["user","assistant","system"]},"content":{"type":"string"}}}},"service_config_id":{"type":"string","format":"uuid"},"action":{"type":"string","enum":["save_ai_service_settings"]},"service_data":{"type":"object"}}}}}},"responses":{"200":{"description":"Successful response from the AI service or confirmation of settings save."},"400":{"description":"Bad request."},"404":{"description":"Not found."},"500":{"description":"Server error."}}}},"/chat/clear-old-history":{"post":{"summary":"Clear old chat history for the authenticated user","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Confirmation of successful clearing."},"500":{"description":"Server error."}}}},"/chat/ai-service-settings":{"get":{"summary":"Retrieve AI service settings for the authenticated user","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"List of AI service settings."},"403":{"description":"Forbidden."},"500":{"description":"Server error."}}}},"/chat/ai-service-settings/active":{"get":{"summary":"Retrieve the active AI service setting for the authenticated user","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Active AI service setting."},"403":{"description":"Forbidden."},"404":{"description":"Not found."},"500":{"description":"Server error."}}}},"/chat/ai-service-settings/{id}":{"delete":{"summary":"Delete an AI service setting","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string","format":"uuid"},"required":true}],"responses":{"200":{"description":"Confirmation of successful deletion."},"400":{"description":"Bad request."},"403":{"description":"Forbidden."},"404":{"description":"Not found."},"500":{"description":"Server error."}}}},"/chat/sparky-chat-history":{"get":{"summary":"Retrieve Sparky chat history for the authenticated user","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Chat history."},"403":{"description":"Forbidden."},"500":{"description":"Server error."}}}},"/chat/sparky-chat-history/entry/{id}":{"get":{"summary":"Retrieve a single Sparky chat history entry","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Chat history entry."},"400":{"description":"Bad request."},"403":{"description":"Forbidden."},"404":{"description":"Not found."},"500":{"description":"Server error."}}}},"/chat/sparky-chat-history/{id}":{"put":{"summary":"Update a Sparky chat history entry","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object"}}}},"responses":{"200":{"description":"Updated chat history entry."},"400":{"description":"Bad request."},"403":{"description":"Forbidden."},"404":{"description":"Not found."},"500":{"description":"Server error."}}},"delete":{"summary":"Delete a Sparky chat history entry","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Confirmation of successful deletion."},"400":{"description":"Bad request."},"403":{"description":"Forbidden."},"404":{"description":"Not found."},"500":{"description":"Server error."}}}},"/chat/clear-all-history":{"post":{"summary":"Clear all Sparky chat history for the authenticated user","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Confirmation of successful clearing."},"403":{"description":"Forbidden."},"500":{"description":"Server error."}}}},"/chat/save-history":{"post":{"summary":"Save a Sparky chat history entry","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string"},"messageType":{"type":"string"},"metadata":{"type":"object"}}}}}},"responses":{"201":{"description":"Confirmation of successful saving."},"400":{"description":"Bad request."},"403":{"description":"Forbidden."},"500":{"description":"Server error."}}}},"/chat/food-options":{"post":{"summary":"Generate food options for a given food name and unit","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"foodName":{"type":"string"},"unit":{"type":"string"},"service_config_id":{"type":"string","format":"uuid"}}}}}},"responses":{"200":{"description":"List of food options generated by the AI service."},"400":{"description":"Bad request."},"404":{"description":"Not found."},"500":{"description":"Server error."}}}},"/custom-nutrients":{"post":{"summary":"Create a new custom nutrient","tags":["Nutrition & Meals"],"description":"Creates a new custom nutrient for the authenticated user.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name","unit"],"properties":{"name":{"type":"string","description":"The name of the custom nutrient."},"unit":{"type":"string","description":"The unit of measurement for the custom nutrient."}}}}}},"responses":{"201":{"description":"The new custom nutrient was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomNutrient"}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Failed to create custom nutrient."}}},"get":{"summary":"Retrieve all custom nutrients","tags":["Nutrition & Meals"],"description":"Retrieves all custom nutrients available to the authenticated user.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"A list of custom nutrients.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomNutrient"}}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Failed to fetch custom nutrients."}}}},"/custom-nutrients/{id}":{"get":{"summary":"Retrieve a single custom nutrient by ID","tags":["Nutrition & Meals"],"description":"Retrieves a single custom nutrient by its ID.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the custom nutrient to retrieve."}],"responses":{"200":{"description":"The requested custom nutrient.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomNutrient"}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"404":{"description":"Custom nutrient not found."},"500":{"description":"Failed to fetch custom nutrient."}}},"put":{"summary":"Update a custom nutrient","tags":["Nutrition & Meals"],"description":"Updates an existing custom nutrient.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the custom nutrient to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The new name for the custom nutrient."},"unit":{"type":"string","description":"The new unit of measurement for the custom nutrient."}}}}}},"responses":{"200":{"description":"The custom nutrient was updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomNutrient"}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"404":{"description":"Custom nutrient not found or unauthorized."},"500":{"description":"Failed to update custom nutrient."}}},"delete":{"summary":"Delete a custom nutrient","tags":["Nutrition & Meals"],"description":"Deletes a specific custom nutrient.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the custom nutrient to delete."}],"responses":{"200":{"description":"Custom nutrient deleted successfully."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"404":{"description":"Custom nutrient not found or unauthorized."},"500":{"description":"Failed to delete custom nutrient."}}}},"/exercise-entries/by-date":{"get":{"summary":"Get exercise entries by selected date","tags":["Fitness & Workouts"],"description":"Retrieves a list of all exercise entries for a specific date, passed as a query parameter.","security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"selectedDate","required":true,"schema":{"type":"string","format":"date"},"description":"The date to retrieve exercise entries for (YYYY-MM-DD)."}],"responses":{"200":{"description":"A list of exercise entries for the specified date.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExerciseEntry"}}}}},"400":{"description":"Selected date parameter is missing."},"403":{"description":"User does not have permission to access this resource."},"500":{"description":"Failed to fetch exercise entries."}}}},"/exercise-entries":{"post":{"summary":"Create a new exercise entry","tags":["Fitness & Workouts"],"description":"Adds a new exercise entry to the user's diary. Supports multipart/form-data for image uploads.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExerciseEntry"}},"multipart/form-data":{"schema":{"type":"object","properties":{"exercise_id":{"type":"string","format":"uuid"},"duration_minutes":{"type":"number"},"calories_burned":{"type":"number"},"entry_date":{"type":"string","format":"date"},"notes":{"type":"string"},"sets":{"type":"string","description":"JSON string of sets data."},"reps":{"type":"number"},"weight":{"type":"number"},"workout_plan_assignment_id":{"type":"string","format":"uuid"},"image":{"type":"string","format":"binary"},"distance":{"type":"number"},"avg_heart_rate":{"type":"number"},"activity_details":{"type":"string","description":"JSON string of activity details."}}}}}},"responses":{"201":{"description":"The exercise entry was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExerciseEntry"}}}},"400":{"description":"Invalid request body or exercise ID."},"403":{"description":"User does not have permission to create an exercise entry."},"500":{"description":"Failed to create exercise entry."}}}},"/exercise-entries/from-plan":{"post":{"summary":"Log a workout from a Workout Plan","tags":["Fitness & Workouts"],"description":"Logs exercises from a specified workout plan to the user's diary for a given date.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["entry_date","exercises"],"properties":{"workout_plan_template_id":{"type":"string","format":"uuid","description":"The ID of the workout plan template (optional)."},"workout_plan_assignment_id":{"type":"string","format":"uuid","description":"The ID of the workout plan assignment (optional)."},"entry_date":{"type":"string","format":"date","description":"The date for which the workout is logged."},"exercises":{"type":"array","items":{"type":"object","properties":{"exercise_id":{"type":"string","format":"uuid"},"duration_minutes":{"type":"number"},"calories_burned":{"type":"number"},"notes":{"type":"string"},"sets":{"type":"array","items":{"type":"object","properties":{"reps":{"type":"number"},"weight":{"type":"number"},"duration":{"type":"number"}}}},"reps":{"type":"number"},"weight":{"type":"number"},"image_url":{"type":"string","format":"url"}},"required":["exercise_id","duration_minutes","calories_burned"]}}}}}}},"responses":{"201":{"description":"The exercise entries were created successfully from the plan.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExerciseEntry"}}}}},"403":{"description":"User does not have permission to log this workout."},"500":{"description":"Failed to log workout from plan."}}}},"/exercise-entries/history/{exerciseId}":{"get":{"summary":"Get history for a specific exercise","tags":["Fitness & Workouts"],"description":"Retrieves the historical exercise entries for a given exercise ID.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"exerciseId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the exercise to retrieve history for."},{"in":"query","name":"limit","schema":{"type":"integer","default":10},"description":"The maximum number of history entries to return."}],"responses":{"200":{"description":"A list of historical exercise entries.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExerciseEntry"}}}}},"400":{"description":"Exercise ID is required and must be a valid UUID."},"403":{"description":"User does not have permission to access this resource."},"500":{"description":"Failed to fetch exercise history."}}}},"/exercise-entries/{id}":{"get":{"summary":"Get a specific exercise entry by ID","tags":["Fitness & Workouts"],"description":"Retrieves a single exercise entry by its ID.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the exercise entry to retrieve."}],"responses":{"200":{"description":"The requested exercise entry.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExerciseEntry"}}}},"400":{"description":"Exercise Entry ID is required and must be a valid UUID."},"403":{"description":"User does not have permission to access this resource."},"404":{"description":"Exercise entry not found."},"500":{"description":"Failed to fetch exercise entry."}}},"put":{"summary":"Update an exercise entry","tags":["Fitness & Workouts"],"description":"Updates an existing exercise entry. Supports multipart/form-data for image uploads.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the exercise entry to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExerciseEntry"}},"multipart/form-data":{"schema":{"type":"object","properties":{"exercise_id":{"type":"string","format":"uuid"},"duration_minutes":{"type":"number"},"calories_burned":{"type":"number"},"entry_date":{"type":"string","format":"date"},"notes":{"type":"string"},"sets":{"type":"string","description":"JSON string of sets data."},"reps":{"type":"number"},"weight":{"type":"number"},"workout_plan_assignment_id":{"type":"string","format":"uuid"},"image":{"type":"string","format":"binary"},"distance":{"type":"number"},"avg_heart_rate":{"type":"number"},"activity_details":{"type":"string","description":"JSON string of activity details."}}}}}},"responses":{"200":{"description":"The exercise entry was updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExerciseEntry"}}}},"400":{"description":"Invalid request body or exercise entry ID."},"403":{"description":"User does not have permission to update this exercise entry."},"404":{"description":"Exercise entry not found."},"500":{"description":"Failed to update exercise entry."}}},"delete":{"summary":"Delete an exercise entry","tags":["Fitness & Workouts"],"description":"Deletes a specific exercise entry.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the exercise entry to delete."}],"responses":{"200":{"description":"Exercise entry deleted successfully."},"400":{"description":"Exercise Entry ID is required and must be a valid UUID."},"403":{"description":"User does not have permission to delete this exercise entry."},"404":{"description":"Exercise entry not found."},"500":{"description":"Failed to delete exercise entry."}}}},"/exercise-entries/progress/{exerciseId}":{"get":{"summary":"Get progress data for a specific exercise","tags":["Fitness & Workouts"],"description":"Retrieves progress data (e.g., weight, reps over time) for a given exercise.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"exerciseId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the exercise to retrieve progress for."},{"in":"query","name":"startDate","schema":{"type":"string","format":"date"},"required":true,"description":"The start date for the progress data (YYYY-MM-DD)."},{"in":"query","name":"endDate","schema":{"type":"string","format":"date"},"required":true,"description":"The end date for the progress data (YYYY-MM-DD)."}],"responses":{"200":{"description":"Progress data for the specified exercise.","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"date":{"type":"string","format":"date"},"value":{"type":"number"}}}}}}},"400":{"description":"Exercise ID, start date, or end date is missing."},"403":{"description":"User does not have permission to access this resource."},"404":{"description":"Exercise not found."},"500":{"description":"Failed to fetch exercise progress data."}}}},"/exercise-entries/import-history-csv":{"post":{"summary":"Import historical exercise entries from CSV","tags":["Fitness & Workouts"],"description":"Imports historical exercise entries from a CSV file.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["entries"],"properties":{"entries":{"type":"array","items":{"type":"object","properties":{"exercise_id":{"type":"string","format":"uuid"},"duration_minutes":{"type":"number"},"calories_burned":{"type":"number"},"entry_date":{"type":"string","format":"date"},"notes":{"type":"string"},"sets":{"type":"array","items":{"type":"object","properties":{"reps":{"type":"number"},"weight":{"type":"number"},"duration":{"type":"number"}}}},"reps":{"type":"number"},"weight":{"type":"number"},"workout_plan_assignment_id":{"type":"string","format":"uuid"},"image_url":{"type":"string","format":"url"},"distance":{"type":"number"},"avg_heart_rate":{"type":"number"},"activity_details":{"type":"object"}},"required":["exercise_id","entry_date"]}}}}}}},"responses":{"201":{"description":"The exercise entries were imported successfully."},"400":{"description":"Invalid data format. Expected an array of entries."},"403":{"description":"User does not have permission to import exercise entries."},"409":{"description":"Conflict, some entries could not be imported due to existing data."},"500":{"description":"Failed to import exercise entries."}}}},"/exercise-preset-entries":{"post":{"summary":"Add a workout preset to the diary","tags":["Fitness & Workouts"],"description":"Logs a workout preset as an exercise preset entry and creates individual exercise entries for each exercise within the preset.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["workout_preset_id","entry_date"],"properties":{"workout_preset_id":{"type":"integer","description":"The ID of the workout preset to log."},"entry_date":{"type":"string","format":"date","description":"The date for which the workout is logged (YYYY-MM-DD)."},"name":{"type":"string","description":"Optional name for the logged workout. If not provided, uses preset name."},"description":{"type":"string","description":"Optional description for the logged workout. If not provided, uses preset description."},"notes":{"type":"string","description":"Optional notes for the logged workout."},"source":{"type":"string","description":"The source of the entry (e.g., \"manual\", \"Garmin Connect\"). Defaults to \"manual\"."}}}}}},"responses":{"201":{"description":"The exercise preset entry and associated exercise entries were created successfully.","content":{"application/json":{"schema":{"type":"object","allOf":[{"$ref":"#/components/schemas/ExercisePresetEntry"},{"type":"object","properties":{"type":{"type":"string","example":"preset"},"exercises":{"type":"array","items":{"$ref":"#/components/schemas/ExerciseEntry"}},"total_duration_minutes":{"type":"integer","example":45}}}]}}}},"400":{"description":"Invalid request body or validation errors."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"404":{"description":"Workout preset not found."},"500":{"description":"Failed to add workout preset to diary."}}}},"/exercise-preset-entries/{id}":{"get":{"summary":"Get an exercise preset entry by ID","tags":["Fitness & Workouts"],"description":"Retrieves a single exercise preset entry by its ID.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the exercise preset entry to retrieve."}],"responses":{"200":{"description":"The requested exercise preset entry.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExercisePresetEntry"}}}},"400":{"description":"Invalid exercise preset entry ID."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"404":{"description":"Exercise preset entry not found."},"500":{"description":"Failed to fetch exercise preset entry."}}},"put":{"summary":"Update an exercise preset entry","tags":["Fitness & Workouts"],"description":"Updates an existing exercise preset entry.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the exercise preset entry to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The new name for the logged workout."},"description":{"type":"string","description":"A new description for the logged workout."},"notes":{"type":"string","description":"New notes for the logged workout."},"entry_date":{"type":"string","format":"date","description":"The new date for the logged workout (YYYY-MM-DD)."}}}}}},"responses":{"200":{"description":"The exercise preset entry was updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExercisePresetEntry"}}}},"400":{"description":"Invalid request body or validation errors."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"404":{"description":"Exercise preset entry not found or not authorized."},"500":{"description":"Failed to update exercise preset entry."}}},"delete":{"summary":"Delete an exercise preset entry","tags":["Fitness & Workouts"],"description":"Deletes a specific exercise preset entry.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the exercise preset entry to delete."}],"responses":{"204":{"description":"Exercise preset entry deleted successfully."},"400":{"description":"Invalid exercise preset entry ID."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"404":{"description":"Exercise preset entry not found or not authorized."},"500":{"description":"Failed to delete exercise preset entry."}}}},"/exercises":{"get":{"summary":"Retrieve a list of exercises with search, filter, and pagination","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"searchTerm","schema":{"type":"string"},"description":"Search term for exercise names."},{"in":"query","name":"categoryFilter","schema":{"type":"string"},"description":"Filter by exercise category."},{"in":"query","name":"ownershipFilter","schema":{"type":"string"},"description":"Filter by exercise ownership (e.g., 'user', 'public')."},{"in":"query","name":"equipmentFilter","schema":{"type":"string"},"description":"Comma-separated list of equipment to filter by."},{"in":"query","name":"muscleGroupFilter","schema":{"type":"string"},"description":"Comma-separated list of muscle groups to filter by."},{"in":"query","name":"currentPage","schema":{"type":"integer","default":1},"description":"The current page number for pagination."},{"in":"query","name":"itemsPerPage","schema":{"type":"integer","default":10},"description":"The number of items to return per page."}],"responses":{"200":{"description":"A list of exercises and the total count.","content":{"application/json":{"schema":{"type":"object","properties":{"exercises":{"type":"array","items":{"$ref":"#/components/schemas/Exercise"}},"totalCount":{"type":"integer","description":"Total number of exercises matching the criteria."}}}}}},"403":{"description":"Forbidden, if the user does not have access."},"500":{"description":"Server error."}}}},"/exercises/suggested":{"get":{"summary":"Retrieve a list of suggested exercises","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"limit","schema":{"type":"integer","default":5},"description":"The maximum number of suggested exercises to return."}],"responses":{"200":{"description":"A list of suggested exercises.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Exercise"}}}}},"403":{"description":"Forbidden, if the user does not have access."},"500":{"description":"Server error."}}}},"/exercises/recent":{"get":{"summary":"Retrieve a list of recently performed exercises","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"limit","schema":{"type":"integer","default":5},"description":"The maximum number of recent exercises to return."}],"responses":{"200":{"description":"A list of recent exercises.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Exercise"}}}}},"403":{"description":"Forbidden, if the user does not have access."},"500":{"description":"Server error."}}}},"/exercises/top":{"get":{"summary":"Retrieve a list of top exercises","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"limit","schema":{"type":"integer","default":5},"description":"The maximum number of top exercises to return."}],"responses":{"200":{"description":"A list of top exercises.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Exercise"}}}}},"403":{"description":"Forbidden, if the user does not have access."},"500":{"description":"Server error."}}}},"/exercises/search":{"get":{"summary":"Search for exercises","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"searchTerm","schema":{"type":"string"},"description":"Term to search for in exercise names."},{"in":"query","name":"equipmentFilter","schema":{"type":"string"},"description":"Comma-separated list of equipment to filter by."},{"in":"query","name":"muscleGroupFilter","schema":{"type":"string"},"description":"Comma-separated list of muscle groups to filter by."}],"responses":{"200":{"description":"A list of exercises matching the search criteria.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Exercise"}}}}},"403":{"description":"Forbidden, if the user does not have access."},"500":{"description":"Server error."}}}},"/exercises/search-external":{"get":{"summary":"Search for exercises from external providers like Wger","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"query","schema":{"type":"string"},"description":"Search term for external exercise names."},{"in":"query","name":"providerId","schema":{"type":"string"},"required":true,"description":"The ID of the external provider (e.g., Wger)."},{"in":"query","name":"providerType","schema":{"type":"string"},"required":true,"description":"The type of the external provider."},{"in":"query","name":"equipmentFilter","schema":{"type":"string"},"description":"Comma-separated list of equipment to filter by."},{"in":"query","name":"muscleGroupFilter","schema":{"type":"string"},"description":"Comma-separated list of muscle groups to filter by."}],"responses":{"200":{"description":"A list of external exercises matching the search criteria.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Exercise"}}}}},"400":{"description":"Bad request, if search query/filters or provider details are missing."},"500":{"description":"Server error."}}}},"/exercises/equipment":{"get":{"summary":"Retrieve a list of available exercise equipment types","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"A list of equipment types.","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"500":{"description":"Server error."}}}},"/exercises/muscle-groups":{"get":{"summary":"Retrieve a list of available exercise muscle groups","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"A list of muscle groups.","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"500":{"description":"Server error."}}}},"/exercises/wger-filters":{"get":{"summary":"Retrieve unique Wger muscle groups and equipment not present in local database","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"An object containing lists of unique muscle groups and equipment from Wger.","content":{"application/json":{"schema":{"type":"object","properties":{"uniqueMuscles":{"type":"array","items":{"type":"string"},"description":"List of muscle groups from Wger not present locally."},"uniqueEquipment":{"type":"array","items":{"type":"string"},"description":"List of equipment from Wger not present locally."}}}}}},"500":{"description":"Server error."}}}},"/exercises/names":{"get":{"summary":"Retrieve exercise names based on muscle and equipment filters","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"muscle","schema":{"type":"string"},"description":"Filter by muscle group."},{"in":"query","name":"equipment","schema":{"type":"string"},"description":"Filter by equipment type."}],"responses":{"200":{"description":"A list of exercise names.","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"500":{"description":"Server error."}}}},"/exercises/add-external":{"post":{"summary":"Add an external exercise (e.g., from Wger) to the user's exercises","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["wgerExerciseId"],"properties":{"wgerExerciseId":{"type":"integer","description":"The ID of the external exercise from Wger."}}}}}},"responses":{"201":{"description":"The newly created exercise.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exercise"}}}},"400":{"description":"Bad request, if Wger exercise ID is missing."},"500":{"description":"Server error."}}}},"/exercises/add-nutritionix-exercise":{"post":{"summary":"Add a Nutritionix exercise to the user's exercises","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","description":"Nutritionix exercise data.","example":{"name":"Dumbbell Bicep Curl","category":"Strength","equipment":["Dumbbell"],"muscle_groups":["Biceps"],"description":"Curl dumbbells to work biceps.","external_id":"nutritionix_12345","external_provider":"Nutritionix"}}}}},"responses":{"201":{"description":"The newly created exercise.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exercise"}}}},"400":{"description":"Bad request, if Nutritionix exercise data is missing."},"500":{"description":"Server error."}}}},"/exercises/{id}":{"get":{"summary":"Retrieve an exercise by ID","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the exercise to retrieve."}],"responses":{"200":{"description":"The exercise object.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exercise"}}}},"400":{"description":"Bad request, if exercise ID is invalid."},"403":{"description":"Forbidden, if the user does not have access."},"404":{"description":"Exercise not found."},"500":{"description":"Server error."}}},"put":{"summary":"Update an existing exercise","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the exercise to update."}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"exerciseData":{"type":"string","description":"JSON string of exercise data to update (name, category, equipment, muscle_groups, description, instructions, is_public, images - existing image URLs).","example":"{\"name\": \"Updated Push-up\", \"category\": \"Strength\", \"equipment\": [\"None\"], \"muscle_groups\": [\"Chest\", \"Triceps\"], \"description\": \"An updated classic bodyweight exercise.\", \"instructions\": [\"Start in a plank position.\", \"Lower your body until your chest nearly touches the floor.\", \"Push back up to the starting position.\"], \"is_public\": true, \"images\": [\"http://example.com/old_image.jpg\"]}"},"images":{"type":"array","items":{"type":"string","format":"binary"},"description":"New image files for the exercise."}}}}}},"responses":{"200":{"description":"The updated exercise object.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exercise"}}}},"400":{"description":"Bad request, if exercise ID is invalid or data is malformed."},"403":{"description":"Forbidden, if the user does not have access to update the exercise."},"404":{"description":"Exercise not found."},"500":{"description":"Server error."}}},"delete":{"summary":"Delete an exercise by its ID","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the exercise to delete."},{"in":"query","name":"forceDelete","schema":{"type":"boolean","default":false},"description":"If true, forces deletion even if there are linked entries."}],"responses":{"200":{"description":"Exercise deleted successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Bad request, if exercise ID is invalid."},"403":{"description":"Forbidden, if the user does not have access to delete the exercise."},"404":{"description":"Exercise not found."},"500":{"description":"Server error."}}}},"/exercises/":{"post":{"summary":"Create a new exercise","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"exerciseData":{"type":"string","description":"JSON string of exercise data (name, category, equipment, muscle_groups, description, instructions, is_public).","example":"{\"name\": \"Push-up\", \"category\": \"Strength\", \"equipment\": [\"None\"], \"muscle_groups\": [\"Chest\", \"Triceps\"], \"description\": \"A classic bodyweight exercise.\", \"instructions\": [\"Start in a plank position.\", \"Lower your body until your chest nearly touches the floor.\", \"Push back up to the starting position.\"], \"is_public\": true}"},"images":{"type":"array","items":{"type":"string","format":"binary"},"description":"Array of image files for the exercise."}}}}}},"responses":{"201":{"description":"The newly created exercise.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exercise"}}}},"400":{"description":"Bad request, if exercise data is invalid."},"500":{"description":"Server error."}}}},"/exercises/import":{"post":{"summary":"Import exercises from a CSV file","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"CSV file containing exercise data."}}}}}},"responses":{"201":{"description":"Result of the import operation.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"importedCount":{"type":"integer"},"errors":{"type":"array","items":{"type":"string"}}}}}}},"500":{"description":"Server error."}}}},"/exercises/import-json":{"post":{"summary":"Import exercises from a JSON array","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["exercises"],"properties":{"exercises":{"type":"array","items":{"$ref":"#/components/schemas/Exercise"},"description":"Array of exercise objects to import."}}}}}},"responses":{"201":{"description":"Result of the import operation.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"importedCount":{"type":"integer"},"errors":{"type":"array","items":{"type":"string"}}}}}}},"400":{"description":"Bad request, if data format is invalid."},"409":{"description":"Conflict, if there are duplicate exercises."},"500":{"description":"Server error."}}}},"/exercises/{id}/deletion-impact":{"get":{"summary":"Get the impact of deleting an exercise","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the exercise to check deletion impact for."}],"responses":{"200":{"description":"An object detailing the impact of deletion.","content":{"application/json":{"schema":{"type":"object","properties":{"canDelete":{"type":"boolean","description":"Indicates if the exercise can be safely deleted."},"linkedEntries":{"type":"integer","description":"Number of exercise entries linked to this exercise."},"message":{"type":"string","description":"A message explaining the deletion impact."}}}}}},"400":{"description":"Bad request, if exercise ID is invalid."},"403":{"description":"Forbidden, if the user does not have access."},"404":{"description":"Exercise not found."},"500":{"description":"Server error."}}}},"/exercises/needs-review":{"get":{"summary":"Retrieve a list of exercises needing review","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"A list of exercises that need review.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Exercise"}}}}},"500":{"description":"Server error."}}}},"/exercises/update-snapshot":{"post":{"summary":"Update the snapshot of exercise entries for a given exercise","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["exerciseId"],"properties":{"exerciseId":{"type":"string","format":"uuid","description":"The ID of the exercise for which to update snapshots."}}}}}},"responses":{"200":{"description":"Result of the snapshot update operation.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Bad request, if exercise ID is missing."},"500":{"description":"Server error."}}}},"/exercises/garmin-activity-details/{exerciseEntryId}":{"get":{"summary":"Retrieve detailed Garmin activity data for an exercise entry","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"exerciseEntryId","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the exercise entry associated with the Garmin activity."}],"responses":{"200":{"description":"Detailed activity data from Garmin.","content":{"application/json":{"schema":{"type":"object","properties":{"garminActivityId":{"type":"string"},"activityType":{"type":"string"},"duration":{"type":"number"},"calories":{"type":"number"},"distance":{"type":"number"}}}}}},"400":{"description":"Invalid exercise entry ID."},"404":{"description":"Garmin activity details not found."},"500":{"description":"Server error."}}}},"/exercises/activity-details/{exerciseEntryId}/{providerName}":{"get":{"summary":"Retrieve activity details by exercise entry ID and provider","tags":["Exercise & Workouts"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"exerciseEntryId","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the exercise entry to retrieve activity details for."},{"in":"path","name":"providerName","schema":{"type":"string"},"required":true,"description":"The name of the external provider (e.g., 'Garmin')."}],"responses":{"200":{"description":"Activity details from the specified provider.","content":{"application/json":{"schema":{"type":"object","properties":{"activityId":{"type":"string"},"activityType":{"type":"string"},"duration":{"type":"number"},"calories":{"type":"number"},"distance":{"type":"number"}}}}}},"400":{"description":"Bad request, if exercise entry ID or provider name is invalid."},"404":{"description":"Activity details not found for this exercise entry and provider."},"500":{"description":"Server error."}}}},"/external-providers":{"get":{"summary":"Get all external data providers for the authenticated user","tags":["External Integrations"],"description":"Retrieves a list of all external data providers configured by the authenticated user.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"A list of external data providers.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExternalProvider"}}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Failed to fetch external data providers."}}},"post":{"summary":"Create a new external data provider","tags":["External Integrations"],"description":"Creates a new external data provider configuration for the authenticated user.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["provider_name","provider_type"],"properties":{"provider_name":{"type":"string","description":"The name of the external provider (e.g., \"Garmin\")."},"provider_type":{"type":"string","description":"The type of the external provider (e.g., \"health\", \"fitness\")."},"client_id":{"type":"string","description":"The client ID for API access."},"client_secret":{"type":"string","description":"The client secret for API access."},"access_token":{"type":"string","description":"The access token for API access."},"refresh_token":{"type":"string","description":"The refresh token for API access."},"expires_at":{"type":"string","format":"date-time","description":"The expiration date and time of the access token."},"scope":{"type":"string","description":"The granted API scopes."}}}}}},"responses":{"201":{"description":"The new external data provider was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExternalProvider"}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Failed to create external data provider."}}}},"/external-providers/user/{targetUserId}":{"get":{"summary":"Get external data providers for a specific user","tags":["External Integrations"],"description":"Retrieves external data providers for a specified user. Requires appropriate authorization.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"targetUserId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the user whose providers are to be retrieved."}],"responses":{"200":{"description":"A list of external data providers for the target user.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExternalProvider"}}}}},"400":{"description":"Missing target user ID."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"403":{"description":"Forbidden, user does not have permission to access this resource."},"500":{"description":"Failed to fetch external data providers."}}}},"/external-providers/{id}":{"put":{"summary":"Update an existing external data provider","tags":["External Integrations"],"description":"Updates an existing external data provider configuration.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the external provider to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"provider_name":{"type":"string","description":"The name of the external provider (e.g., \"Garmin\")."},"provider_type":{"type":"string","description":"The type of the external provider (e.g., \"health\", \"fitness\")."},"client_id":{"type":"string","description":"The client ID for API access."},"client_secret":{"type":"string","description":"The client secret for API access."},"access_token":{"type":"string","description":"The access token for API access."},"refresh_token":{"type":"string","description":"The refresh token for API access."},"expires_at":{"type":"string","format":"date-time","description":"The expiration date and time of the access token."},"scope":{"type":"string","description":"The granted API scopes."}}}}}},"responses":{"200":{"description":"The external data provider was updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExternalProvider"}}}},"400":{"description":"Provider ID is required."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"403":{"description":"Forbidden, user does not have permission to update this provider."},"404":{"description":"External data provider not found."},"500":{"description":"Failed to update external data provider."}}},"delete":{"summary":"Delete an external data provider","tags":["External Integrations"],"description":"Deletes a specific external data provider configuration.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the external provider to delete."}],"responses":{"200":{"description":"External data provider deleted successfully."},"400":{"description":"Provider ID is required."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"403":{"description":"Forbidden, user does not have permission to delete this provider."},"404":{"description":"External data provider not found."},"500":{"description":"Failed to delete external data provider."}}},"get":{"summary":"Get details of a specific external data provider","tags":["External Integrations"],"description":"Retrieves the details of a specific external data provider by its ID.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the external provider to retrieve details for."}],"responses":{"200":{"description":"Details of the external data provider.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExternalProvider"}}}},"400":{"description":"Missing provider ID."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"403":{"description":"Forbidden, user does not have permission to access this resource."},"500":{"description":"Failed to fetch external data provider details."}}}},"/external-providers/garmin/activities-and-workouts":{"post":{"summary":"Process Garmin activities and workouts","tags":["External Integrations"],"description":"Endpoint for the Garmin microservice to send activity and workout data for processing.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","description":"Garmin activity and workout data.","example":{"activities":[],"workouts":[]}}}}},"responses":{"200":{"description":"Data processed successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object"}}}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Error processing Garmin data."}}}},"/fasting/current":{"get":{"summary":"Get current active fast","tags":["Wellness & Metrics"],"description":"Retrieves the currently active fast for the authenticated user.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"The active fast or null if none.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FastingLog"}}}},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/fasting/start":{"post":{"summary":"Start a new fast","tags":["Wellness & Metrics"],"description":"Starts a new fasting period for the authenticated user.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["start_time","fasting_type"],"properties":{"start_time":{"type":"string","format":"date-time","description":"The start time of the fast."},"target_end_time":{"type":"string","format":"date-time","description":"The target end time of the fast."},"fasting_type":{"type":"string","description":"The type of fast (e.g., \"Intermittent Fasting\")."}}}}}},"responses":{"201":{"description":"Success starting fast.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FastingLog"}}}},"400":{"description":"Validation error or active fast already exists."},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/fasting/end":{"post":{"summary":"End an active fast","tags":["Wellness & Metrics"],"description":"Ends an active fasting period, calculates duration, and optionally logs mood.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["id","end_time"],"properties":{"id":{"type":"string","format":"uuid","description":"The ID of the fast to end."},"start_time":{"type":"string","format":"date-time","description":"Optional start time to override."},"end_time":{"type":"string","format":"date-time","description":"The end time of the fast."},"mood":{"type":"object","properties":{"value":{"type":"integer"},"notes":{"type":"string"}}}}}}}},"responses":{"200":{"description":"Success ending fast.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FastingLog"}}}},"400":{"description":"Validation error."},"401":{"description":"Unauthorized."},"404":{"description":"Fast not found."},"500":{"description":"Internal server error."}}}},"/fasting/{id}":{"put":{"summary":"Update an existing fast","tags":["Wellness & Metrics"],"description":"Updates the details of an existing fasting log.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the fast to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FastingLog"}}}},"responses":{"200":{"description":"Success updating fast.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FastingLog"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Fast not found."},"500":{"description":"Internal server error."}}}},"/fasting/history":{"get":{"summary":"Get fasting history","tags":["Wellness & Metrics"],"description":"Retrieves a paginated history of fasting logs for the authenticated user.","security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"limit","schema":{"type":"integer","default":50},"description":"Maximum number of records to return."},{"in":"query","name":"offset","schema":{"type":"integer","default":0},"description":"Number of records to skip."}],"responses":{"200":{"description":"A list of fasting logs.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FastingLog"}}}}},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/fasting/stats":{"get":{"summary":"Get fasting statistics","tags":["Wellness & Metrics"],"description":"Retrieves summary statistics for the user's fasting history.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Fasting statistics.","content":{"application/json":{"schema":{"type":"object","properties":{"total_completed_fasts":{"type":"integer"},"total_minutes_fasted":{"type":"integer"},"average_duration_minutes":{"type":"number"}}}}}},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/fasting/history/range/{startDate}/{endDate}":{"get":{"summary":"Get fasting logs by date range","tags":["Wellness & Metrics"],"description":"Retrieves completed fasting logs within a specified date range.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"startDate","required":true,"schema":{"type":"string","format":"date"},"description":"Start date (YYYY-MM-DD)."},{"in":"path","name":"endDate","required":true,"schema":{"type":"string","format":"date"},"description":"End date (YYYY-MM-DD)."}],"responses":{"200":{"description":"A list of fasting logs within the range.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FastingLog"}}}}},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/food-crud/search":{"get":{"summary":"Search for foods (AI-dedicated)","tags":["Nutrition & Meals"],"description":"Searches for foods based on a name query. This endpoint is dedicated for AI-powered searches.","parameters":[{"in":"query","name":"name","schema":{"type":"string"},"required":true,"description":"The name of the food to search for."},{"in":"query","name":"exactMatch","schema":{"type":"boolean"},"description":"If true, performs an exact match search."},{"in":"query","name":"broadMatch","schema":{"type":"boolean"},"description":"If true, performs a broad match search."},{"in":"query","name":"checkCustom","schema":{"type":"boolean"},"description":"If true, includes custom foods in the search."}],"responses":{"200":{"description":"A list of foods matching the search criteria.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Food"}}}}},"400":{"description":"Invalid request parameters."}}}},"/food-crud":{"get":{"summary":"Search for foods","tags":["Nutrition & Meals"],"description":"Searches for foods based on various criteria.","parameters":[{"in":"query","name":"name","schema":{"type":"string"},"description":"The name of the food to search for."},{"in":"query","name":"exactMatch","schema":{"type":"boolean"},"description":"If true, performs an exact match search."},{"in":"query","name":"broadMatch","schema":{"type":"boolean"},"description":"If true, performs a broad match search."},{"in":"query","name":"checkCustom","schema":{"type":"boolean"},"description":"If true, includes custom foods in the search."},{"in":"query","name":"limit","schema":{"type":"integer"},"description":"The maximum number of results to return."},{"in":"query","name":"mealType","schema":{"type":"string"},"description":"The type of meal to filter by."}],"responses":{"200":{"description":"A list of foods matching the search criteria.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Food"}}}}},"400":{"description":"Invalid request parameters."}}},"post":{"summary":"Create a new food","tags":["Nutrition & Meals"],"description":"Creates a new food item.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Food"}}}},"responses":{"201":{"description":"The food was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Food"}}}},"403":{"description":"User does not have permission to create a food."}}}},"/food-crud/foods-paginated":{"get":{"summary":"Get foods with pagination","tags":["Nutrition & Meals"],"description":"Retrieves a paginated list of foods.","parameters":[{"in":"query","name":"searchTerm","schema":{"type":"string"},"description":"The term to search for."},{"in":"query","name":"foodFilter","schema":{"type":"string"},"description":"The filter to apply to the food list."},{"in":"query","name":"currentPage","schema":{"type":"integer"},"description":"The current page number."},{"in":"query","name":"itemsPerPage","schema":{"type":"integer"},"description":"The number of items to return per page."},{"in":"query","name":"sortBy","schema":{"type":"string"},"description":"The field to sort by."}],"responses":{"200":{"description":"A paginated list of foods.","content":{"application/json":{"schema":{"type":"object","properties":{"foods":{"type":"array","items":{"$ref":"#/components/schemas/Food"}},"totalCount":{"type":"integer"}}}}}}}}},"/food-crud/food-variants":{"post":{"summary":"Create a new food variant","tags":["Nutrition & Meals"],"description":"Creates a new variant for a food item.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodVariant"}}}},"responses":{"201":{"description":"The food variant was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodVariant"}}}},"403":{"description":"User does not have permission to create a food variant."},"404":{"description":"Food not found."}}},"get":{"summary":"Get food variants by food ID","tags":["Nutrition & Meals"],"description":"Retrieves all variants for a specific food item.","parameters":[{"in":"query","name":"food_id","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the food to retrieve variants for."}],"responses":{"200":{"description":"A list of food variants.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FoodVariant"}}}}},"400":{"description":"Food ID is required."}}}},"/food-crud/food-variants/bulk":{"post":{"summary":"Bulk create food variants","tags":["Nutrition & Meals"],"description":"Creates multiple food variants in a single request.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FoodVariant"}}}}},"responses":{"201":{"description":"The food variants were created successfully.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FoodVariant"}}}}},"403":{"description":"User does not have permission to create food variants."}}}},"/food-crud/food-variants/{id}":{"get":{"summary":"Get a food variant by ID","tags":["Nutrition & Meals"],"description":"Retrieves a specific food variant by its ID.","parameters":[{"in":"path","name":"id","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the food variant to retrieve."}],"responses":{"200":{"description":"The requested food variant.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodVariant"}}}},"400":{"description":"Food Variant ID is required."},"403":{"description":"User does not have permission to access this resource."},"404":{"description":"Food variant not found."}}},"put":{"summary":"Update a food variant","tags":["Nutrition & Meals"],"description":"Updates an existing food variant.","parameters":[{"in":"path","name":"id","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the food variant to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodVariant"}}}},"responses":{"200":{"description":"The updated food variant.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodVariant"}}}},"400":{"description":"Food Variant ID and Food ID are required."},"403":{"description":"User does not have permission to update this food variant."},"404":{"description":"Food variant not found."}}},"delete":{"summary":"Delete a food variant","tags":["Nutrition & Meals"],"description":"Deletes a specific food variant.","parameters":[{"in":"path","name":"id","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the food variant to delete."}],"responses":{"200":{"description":"Food variant deleted successfully."},"400":{"description":"Food Variant ID is required."},"403":{"description":"User does not have permission to delete this food variant."},"404":{"description":"Food variant not found."}}}},"/food-crud/create-or-get":{"post":{"summary":"Create or get a food","tags":["Nutrition & Meals"],"description":"Creates a new food if it doesn't exist, or retrieves an existing one.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"foodSuggestion":{"$ref":"#/components/schemas/Food"}}}}}},"responses":{"200":{"description":"The ID of the created or retrieved food.","content":{"application/json":{"schema":{"type":"object","properties":{"foodId":{"type":"string","format":"uuid"}}}}}},"403":{"description":"User does not have permission to perform this action."}}}},"/food-crud/{foodId}":{"get":{"summary":"Get a food by ID","tags":["Nutrition & Meals"],"description":"Retrieves a specific food item by its ID.","parameters":[{"in":"path","name":"foodId","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the food to retrieve."}],"responses":{"200":{"description":"The requested food item.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Food"}}}},"400":{"description":"Food ID is required."},"403":{"description":"User does not have permission to access this resource."},"404":{"description":"Food not found."}}}},"/food-crud/{id}":{"put":{"summary":"Update a food","tags":["Nutrition & Meals"],"description":"Updates an existing food item.","parameters":[{"in":"path","name":"id","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the food to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Food"}}}},"responses":{"200":{"description":"The updated food item.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Food"}}}},"400":{"description":"Food ID is required."},"403":{"description":"User does not have permission to update this food."},"404":{"description":"Food not found or not authorized to update."}}},"delete":{"summary":"Delete a food","tags":["Nutrition & Meals"],"description":"Deletes a specific food item.","parameters":[{"in":"path","name":"id","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the food to delete."},{"in":"query","name":"forceDelete","schema":{"type":"boolean"},"description":"If true, forces deletion even if there are dependencies."}],"responses":{"200":{"description":"Food deleted successfully."},"400":{"description":"Food ID is required."},"403":{"description":"User does not have permission to delete this food."},"404":{"description":"Food not found."}}}},"/food-crud/{id}/deletion-impact":{"get":{"summary":"Get food deletion impact","tags":["Nutrition & Meals"],"description":"Retrieves the impact of deleting a specific food item.","parameters":[{"in":"path","name":"id","schema":{"type":"string","format":"uuid"},"required":true,"description":"The ID of the food to check."}],"responses":{"200":{"description":"The deletion impact report."},"400":{"description":"Food ID is required."},"403":{"description":"User does not have permission to access this resource."},"404":{"description":"Food not found."}}}},"/food-crud/import-from-csv":{"post":{"summary":"Import foods from CSV","tags":["Nutrition & Meals"],"description":"Imports a list of foods from a CSV file.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"foods":{"type":"array","items":{"$ref":"#/components/schemas/Food"}}}}}}},"responses":{"200":{"description":"Food data imported successfully."},"400":{"description":"Food data is required."}}}},"/food-crud/needs-review":{"get":{"summary":"Get foods needing review","tags":["Nutrition & Meals"],"description":"Retrieves a list of foods that need to be reviewed.","responses":{"200":{"description":"A list of foods needing review.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Food"}}}}}}}},"/food-crud/update-snapshot":{"post":{"summary":"Update food entries snapshot","tags":["Nutrition & Meals"],"description":"Updates the snapshot of food entries.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"foodId":{"type":"string","format":"uuid"},"variantId":{"type":"string","format":"uuid"}}}}}},"responses":{"200":{"description":"The result of the snapshot update."},"400":{"description":"foodId and variantId are required."}}}},"/food-entry-meals":{"post":{"summary":"Create a new FoodEntryMeal","tags":["Nutrition & Meals"],"description":"Creates a new food entry meal for the authenticated user.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodEntryMeal"}}}},"responses":{"201":{"description":"The FoodEntryMeal was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodEntryMeal"}}}},"403":{"description":"User does not have permission to create a food entry meal."}}}},"/food-entry-meals/by-date/{date}":{"get":{"summary":"Get FoodEntryMeals by date","tags":["Nutrition & Meals"],"description":"Retrieves a list of all food entry meals for a specific date.","parameters":[{"in":"path","name":"date","required":true,"schema":{"type":"string","format":"date"},"description":"The date to retrieve food entry meals for (YYYY-MM-DD)."}],"responses":{"200":{"description":"A list of food entry meals for the specified date.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FoodEntryMeal"}}}}},"403":{"description":"User does not have permission to access this resource."}}}},"/food-entry-meals/{id}":{"get":{"summary":"Get a specific FoodEntryMeal with its components","tags":["Nutrition & Meals"],"description":"Retrieves a specific food entry meal by its ID, including its associated food components.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the food entry meal to retrieve."}],"responses":{"200":{"description":"The requested FoodEntryMeal with components.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodEntryMeal"}}}},"403":{"description":"User does not have permission to access this resource."},"404":{"description":"FoodEntryMeal not found."}}},"put":{"summary":"Update an existing FoodEntryMeal","tags":["Nutrition & Meals"],"description":"Updates an existing food entry meal with new information.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the food entry meal to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodEntryMeal"}}}},"responses":{"200":{"description":"The FoodEntryMeal was updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodEntryMeal"}}}},"403":{"description":"User does not have permission to update this food entry meal."},"404":{"description":"FoodEntryMeal not found."}}},"delete":{"summary":"Delete a FoodEntryMeal","tags":["Nutrition & Meals"],"description":"Deletes a specific food entry meal.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the food entry meal to delete."}],"responses":{"204":{"description":"FoodEntryMeal deleted successfully."},"403":{"description":"User does not have permission to delete this food entry meal."},"404":{"description":"FoodEntryMeal not found."}}}},"/food-entries":{"post":{"summary":"Create a new food entry","tags":["Nutrition & Meals"],"description":"Adds a new food entry to the user's diary for a specific meal and date.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodEntry"}}}},"responses":{"201":{"description":"The food entry was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodEntry"}}}},"400":{"description":"Invalid request body."},"403":{"description":"User does not have permission to create a food entry."}}},"get":{"summary":"Get food entries by selected date","tags":["Nutrition & Meals"],"description":"Retrieves a list of all food entries for a specific date, passed as a query parameter.","parameters":[{"in":"query","name":"selectedDate","required":true,"schema":{"type":"string","format":"date"},"description":"The date to retrieve food entries for (YYYY-MM-DD)."}],"responses":{"200":{"description":"A list of food entries for the specified date.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FoodEntry"}}}}},"400":{"description":"Selected date parameter is missing."},"403":{"description":"User does not have permission to access this resource."}}}},"/food-entries/copy":{"post":{"summary":"Copy food entries from one meal to another","tags":["Nutrition & Meals"],"description":"Copies all food entries from a source meal on a specific date to a target meal on another date.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["sourceDate","sourceMealType","targetDate","targetMealType"],"properties":{"sourceDate":{"type":"string","format":"date"},"sourceMealType":{"type":"string"},"targetDate":{"type":"string","format":"date"},"targetMealType":{"type":"string"}}}}}},"responses":{"201":{"description":"The food entries were copied successfully."},"400":{"description":"Invalid request body."},"403":{"description":"User does not have permission to copy food entries."}}}},"/food-entries/copy-yesterday":{"post":{"summary":"Copy food entries from yesterday's meal","tags":["Nutrition & Meals"],"description":"Copies all food entries from a specific meal on the previous day to the same meal on a target date.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["mealType","targetDate"],"properties":{"mealType":{"type":"string"},"targetDate":{"type":"string","format":"date"}}}}}},"responses":{"201":{"description":"The food entries were copied successfully."},"400":{"description":"Invalid request body."},"403":{"description":"User does not have permission to copy food entries."}}}},"/food-entries/{id}":{"put":{"summary":"Update a food entry","tags":["Nutrition & Meals"],"description":"Updates an existing food entry with new information.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the food entry to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodEntry"}}}},"responses":{"200":{"description":"The food entry was updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodEntry"}}}},"400":{"description":"Invalid request body or food entry ID."},"403":{"description":"User does not have permission to update this food entry."},"404":{"description":"Food entry not found."}}},"delete":{"summary":"Delete a food entry","tags":["Nutrition & Meals"],"description":"Deletes a food entry from the user's diary.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the food entry to delete."}],"responses":{"200":{"description":"The food entry was deleted successfully."},"400":{"description":"Invalid food entry ID."},"403":{"description":"User does not have permission to delete this food entry."},"404":{"description":"Food entry not found."}}}},"/food-entries/by-date/{date}":{"get":{"summary":"Get all food entries for a specific date","tags":["Nutrition & Meals"],"description":"Retrieves a list of all food entries logged by the user for a given date.","parameters":[{"in":"path","name":"date","required":true,"schema":{"type":"string","format":"date"},"description":"The date to retrieve food entries for (YYYY-MM-DD)."}],"responses":{"200":{"description":"A list of food entries for the specified date.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FoodEntry"}}}}},"400":{"description":"Date parameter is missing."},"403":{"description":"User does not have permission to access this resource."}}}},"/food-entries/range/{startDate}/{endDate}":{"get":{"summary":"Get food entries within a date range","tags":["Nutrition & Meals"],"description":"Retrieves a list of all food entries logged by the user between a start and end date.","parameters":[{"in":"path","name":"startDate","required":true,"schema":{"type":"string","format":"date"},"description":"The start date of the range (YYYY-MM-DD)."},{"in":"path","name":"endDate","required":true,"schema":{"type":"string","format":"date"},"description":"The end date of the range (YYYY-MM-DD)."}],"responses":{"200":{"description":"A list of food entries for the specified date range.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FoodEntry"}}}}},"400":{"description":"Start or end date parameters are missing."},"403":{"description":"User does not have permission to access this resource."}}}},"/food-entries/nutrition/today":{"get":{"summary":"Get daily nutrition summary","tags":["Nutrition & Meals"],"description":"Retrieves a summary of the user's nutritional intake for a specific date.","parameters":[{"in":"query","name":"date","required":true,"schema":{"type":"string","format":"date"},"description":"The date to retrieve the nutrition summary for (YYYY-MM-DD)."}],"responses":{"200":{"description":"The daily nutrition summary.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NutritionSummary"}}}},"400":{"description":"Date parameter is missing."},"403":{"description":"User does not have permission to access this resource."},"404":{"description":"Nutrition summary not found for this date."}}}},"/food-integration/fatsecret/search":{"get":{"summary":"Search for foods on FatSecret","tags":["External Integrations"],"description":"Searches for foods using the FatSecret API.","parameters":[{"in":"query","name":"query","schema":{"type":"string"},"required":true,"description":"The search query."},{"in":"header","name":"x-provider-id","schema":{"type":"string"},"required":true,"description":"The ID of the FatSecret data provider."}],"responses":{"200":{"description":"A list of foods from FatSecret."},"400":{"description":"Missing search query or x-provider-id header."}}}},"/food-integration/fatsecret/nutrients":{"get":{"summary":"Get nutrient information from FatSecret","tags":["External Integrations"],"description":"Retrieves nutrient information for a specific food from the FatSecret API.","parameters":[{"in":"query","name":"foodId","schema":{"type":"string"},"required":true,"description":"The ID of the food to retrieve nutrient information for."},{"in":"header","name":"x-provider-id","schema":{"type":"string"},"required":true,"description":"The ID of the FatSecret data provider."}],"responses":{"200":{"description":"Nutrient information for the specified food."},"400":{"description":"Missing foodId or x-provider-id header."}}}},"/food-integration/openfoodfacts/search":{"get":{"summary":"Search for foods on Open Food Facts","tags":["External Integrations"],"description":"Searches for foods using the Open Food Facts API.","parameters":[{"in":"query","name":"query","schema":{"type":"string"},"required":true,"description":"The search query."}],"responses":{"200":{"description":"A list of foods from Open Food Facts."},"400":{"description":"Missing search query."}}}},"/food-integration/openfoodfacts/barcode/{barcode}":{"get":{"summary":"Search for food by barcode on Open Food Facts","tags":["External Integrations"],"description":"Retrieves food details by barcode using the Open Food Facts API.","parameters":[{"in":"path","name":"barcode","schema":{"type":"string"},"required":true,"description":"The barcode to search for."}],"responses":{"200":{"description":"Food details for the given barcode."},"400":{"description":"Missing barcode."}}}},"/food-integration/nutritionix/search":{"get":{"summary":"Search for foods on Nutritionix","tags":["External Integrations"],"description":"Searches for foods using the Nutritionix API.","parameters":[{"in":"query","name":"query","schema":{"type":"string"},"required":true,"description":"The search query."},{"in":"query","name":"providerId","schema":{"type":"string"},"required":true,"description":"The ID of the Nutritionix data provider."}],"responses":{"200":{"description":"A list of foods from Nutritionix."},"400":{"description":"Missing search query or providerId."}}}},"/food-integration/nutritionix/nutrients":{"get":{"summary":"Get nutrient information from Nutritionix","tags":["External Integrations"],"description":"Retrieves nutrient information for a specific food from the Nutritionix API.","parameters":[{"in":"query","name":"query","schema":{"type":"string"},"required":true,"description":"The search query."},{"in":"query","name":"providerId","schema":{"type":"string"},"required":true,"description":"The ID of the Nutritionix data provider."}],"responses":{"200":{"description":"Nutrient information for the specified food."},"400":{"description":"Missing search query or providerId."}}}},"/food-integration/nutritionix/item":{"get":{"summary":"Get branded food nutrient information from Nutritionix","tags":["External Integrations"],"description":"Retrieves nutrient information for a specific branded food item from the Nutritionix API.","parameters":[{"in":"query","name":"nix_item_id","schema":{"type":"string"},"required":true,"description":"The Nutritionix item ID."},{"in":"query","name":"providerId","schema":{"type":"string"},"required":true,"description":"The ID of the Nutritionix data provider."}],"responses":{"200":{"description":"Nutrient information for the specified branded food item."},"400":{"description":"Missing nix_item_id or providerId."}}}},"/food-integration/mealie/search":{"get":{"summary":"Search for foods on Mealie","tags":["External Integrations"],"description":"Searches for foods using the Mealie API.","parameters":[{"in":"query","name":"query","schema":{"type":"string"},"required":true,"description":"The search query."},{"in":"header","name":"x-provider-id","schema":{"type":"string"},"required":true,"description":"The ID of the Mealie data provider."}],"responses":{"200":{"description":"A list of foods from Mealie."},"400":{"description":"Missing search query or x-provider-id header."}}}},"/food-integration/mealie/details":{"get":{"summary":"Get food details from Mealie","tags":["External Integrations"],"description":"Retrieves details for a specific food from the Mealie API.","parameters":[{"in":"query","name":"slug","schema":{"type":"string"},"required":true,"description":"The slug of the food to retrieve details for."},{"in":"header","name":"x-provider-id","schema":{"type":"string"},"required":true,"description":"The ID of the Mealie data provider."}],"responses":{"200":{"description":"Details for the specified food."},"400":{"description":"Missing food slug or x-provider-id header."}}}},"/food-integration/tandoor/search":{"get":{"summary":"Search for foods on Tandoor","tags":["External Integrations"],"description":"Searches for foods using the Tandoor API.","parameters":[{"in":"query","name":"query","schema":{"type":"string"},"required":true,"description":"The search query."},{"in":"header","name":"x-provider-id","schema":{"type":"string"},"required":true,"description":"The ID of the Tandoor data provider."}],"responses":{"200":{"description":"A list of foods from Tandoor."},"400":{"description":"Missing search query or x-provider-id header."}}}},"/food-integration/tandoor/details":{"get":{"summary":"Get food details from Tandoor","tags":["External Integrations"],"description":"Retrieves details for a specific food from the Tandoor API.","parameters":[{"in":"query","name":"id","schema":{"type":"string"},"required":true,"description":"The ID of the food to retrieve details for."},{"in":"header","name":"x-provider-id","schema":{"type":"string"},"required":true,"description":"The ID of the Tandoor data provider."}],"responses":{"200":{"description":"Details for the specified food."},"400":{"description":"Missing food id or x-provider-id header."}}}},"/food-integration/usda/search":{"get":{"summary":"Search for foods on USDA FoodData Central","tags":["External Integrations"],"description":"Searches for foods using the USDA FoodData Central API.","parameters":[{"in":"query","name":"query","schema":{"type":"string"},"required":true,"description":"The search query."},{"in":"header","name":"x-provider-id","schema":{"type":"string"},"required":true,"description":"The ID of the USDA data provider."}],"responses":{"200":{"description":"A list of foods from USDA FoodData Central."},"400":{"description":"Missing search query or x-provider-id header."}}}},"/food-integration/usda/details":{"get":{"summary":"Get food details from USDA FoodData Central","tags":["External Integrations"],"description":"Retrieves details for a specific food from the USDA FoodData Central API.","parameters":[{"in":"query","name":"fdcId","schema":{"type":"string"},"required":true,"description":"The FoodData Central ID of the food to retrieve details for."},{"in":"header","name":"x-provider-id","schema":{"type":"string"},"required":true,"description":"The ID of the USDA data provider."}],"responses":{"200":{"description":"Details for the specified food."},"400":{"description":"Missing FDC ID or x-provider-id header."}}}},"/food-entries/{date}":{"get":{"summary":"Get food entries by date (re-routed)","tags":["Nutrition & Meals"],"description":"This endpoint re-routes requests to the foodEntryRoutes for retrieving food entries by date.","parameters":[{"in":"path","name":"date","schema":{"type":"string","format":"date"},"required":true,"description":"The date to retrieve food entries for (YYYY-MM-DD)."}],"responses":{"200":{"description":"A list of food entries for the specified date."},"400":{"description":"Invalid date parameter."}}}},"/freeexercisedb/search":{"get":{"summary":"Search for exercises from the free-exercise-db","tags":["Fitness & Workouts"],"description":"Searches for exercises from an external free exercise database based on a query.","parameters":[{"in":"query","name":"query","schema":{"type":"string"},"description":"The search query (optional)."}],"responses":{"200":{"description":"A list of matching exercises.","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The ID of the exercise in the free database."},"name":{"type":"string","description":"The name of the exercise."},"category":{"type":"string","description":"The category of the exercise."},"equipment":{"type":"array","items":{"type":"string"},"description":"Equipment needed for the exercise."},"muscle_groups":{"type":"array","items":{"type":"string"},"description":"Muscle groups targeted."}}}}}}},"500":{"description":"Error searching free-exercise-db."}}}},"/freeexercisedb/add":{"post":{"summary":"Add a free-exercise-db exercise to user's local exercises","tags":["Fitness & Workouts"],"description":"Adds a selected exercise from the free exercise database to the authenticated user's personal exercise list.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["exerciseId"],"properties":{"exerciseId":{"type":"string","description":"The ID of the free-exercise-db exercise to add."}}}}}},"responses":{"201":{"description":"The newly created exercise in the user's database.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exercise"}}}},"400":{"description":"Exercise ID is required."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Error adding free-exercise-db exercise."}}}},"/integrations/garmin/login":{"post":{"summary":"Garmin direct login","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]}}}},"responses":{"200":{"description":"Login result."}}}},"/integrations/garmin/resume_login":{"post":{"summary":"Resume Garmin login (e.g., after MFA)","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"client_state":{"type":"string"},"mfa_code":{"type":"string"}},"required":["client_state","mfa_code"]}}}},"responses":{"200":{"description":"Login result."}}}},"/integrations/garmin/sync/health_and_wellness":{"post":{"summary":"Manually sync health and wellness data from Garmin","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"metricTypes":{"type":"array","items":{"type":"string"}}},"required":["startDate","endDate"]}}}},"responses":{"200":{"description":"Sync completed successfully."}}}},"/integrations/garmin/sync/activities_and_workouts":{"post":{"summary":"Manually sync activities and workouts data from Garmin","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"activityType":{"type":"string"}},"required":["startDate","endDate"]}}}},"responses":{"200":{"description":"Sync result."}}}},"/integrations/garmin/sync":{"post":{"summary":"Manual full sync for Garmin data","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Full sync result."}}}},"/integrations/garmin/status":{"get":{"summary":"Get Garmin connection status","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Connection status.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GarminStatus"}}}}}}},"/integrations/garmin/unlink":{"post":{"summary":"Unlink Garmin account","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Unlinked successfully."}}}},"/integrations/garmin/sleep_data":{"post":{"summary":"Process sleep data from Garmin","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"sleepData":{"type":"array","items":{"type":"object"}},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"}},"required":["sleepData","startDate","endDate"]}}}},"responses":{"200":{"description":"Sleep data processed successfully."}}}},"/global-settings":{"get":{"summary":"GET Global Authentication Settings (Admin Only)","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Global settings.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GlobalSettings"}}}}}},"put":{"summary":"Update Global Authentication Settings (Admin Only)","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GlobalSettings"}}}},"responses":{"200":{"description":"Settings updated successfully."}}}},"/goal-presets":{"post":{"summary":"Create a new goal preset","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoalPreset"}}}},"responses":{"201":{"description":"Goal preset created successfully."}}},"get":{"summary":"Get all goal presets for the user","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"List of goal presets.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GoalPreset"}}}}}}}},"/goal-presets/{id}":{"get":{"summary":"Get a specific goal preset by ID","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"The goal preset.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoalPreset"}}}}}},"put":{"summary":"Update a goal preset","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoalPreset"}}}},"responses":{"200":{"description":"Goal preset updated successfully."}}},"delete":{"summary":"Delete a goal preset","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"204":{"description":"Deleted successfully."}}}},"/goals/by-date/{date}":{"get":{"summary":"Get goals for a specific date","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"date","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"User goals for the specified date.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserGoal"}}}}}}},"/goals/for-date":{"get":{"summary":"Get goals for a date (query param)","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"date","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"User goals for the specified date.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserGoal"}}}}}}},"/goals/manage-timeline":{"post":{"summary":"Manage goal timeline (upsert goals over a range)","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"p_start_date":{"type":"string","format":"date"},"p_end_date":{"type":"string","format":"date","nullable":true},"calories":{"type":"number"}},"required":["p_start_date"]}}}},"responses":{"200":{"description":"Timeline managed successfully."}}}},"/health":{"get":{"summary":"System health check","tags":["System & Admin"],"responses":{"200":{"description":"System is up and running.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"UP"}}}}}}}}},"/meal-plan-templates/presets":{"post":{"summary":"Create a new meal day preset","tags":["Nutrition & Meals"],"description":"Creates a new meal day preset for the authenticated user.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealDayPreset"}}}},"responses":{"201":{"description":"The meal day preset was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealDayPreset"}}}},"403":{"description":"User does not have permission to create a meal day preset."}}},"get":{"summary":"Get all meal day presets for a user","tags":["Nutrition & Meals"],"description":"Retrieves all meal day presets owned by the authenticated user.","responses":{"200":{"description":"A list of meal day presets.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MealDayPreset"}}}}},"403":{"description":"User does not have permission to access this resource."}}}},"/meal-plan-templates/presets/{id}":{"put":{"summary":"Update a meal day preset","tags":["Nutrition & Meals"],"description":"Updates an existing meal day preset.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal day preset to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealDayPreset"}}}},"responses":{"200":{"description":"The meal day preset was updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealDayPreset"}}}},"403":{"description":"User does not have permission to update this meal day preset."},"404":{"description":"Meal day preset not found."}}},"delete":{"summary":"Delete a meal day preset","tags":["Nutrition & Meals"],"description":"Deletes a specific meal day preset.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal day preset to delete."}],"responses":{"204":{"description":"Meal day preset deleted successfully."},"403":{"description":"User does not have permission to delete this meal day preset."},"404":{"description":"Meal day preset not found."}}}},"/meal-plan-templates":{"post":{"summary":"Create a new meal plan template","tags":["Nutrition & Meals"],"description":"Creates a new meal plan template for the authenticated user.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealPlanTemplate"}}}},"responses":{"201":{"description":"The meal plan template was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealPlanTemplate"}}}},"403":{"description":"User does not have permission to create a meal plan template."}}},"get":{"summary":"Get all meal plan templates for a user","tags":["Nutrition & Meals"],"description":"Retrieves all meal plan templates owned by the authenticated user.","responses":{"200":{"description":"A list of meal plan templates.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MealPlanTemplate"}}}}},"403":{"description":"User does not have permission to access this resource."}}}},"/meal-plan-templates/{id}":{"put":{"summary":"Update a meal plan template","tags":["Nutrition & Meals"],"description":"Updates an existing meal plan template.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal plan template to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealPlanTemplate"}}}},"responses":{"200":{"description":"The meal plan template was updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealPlanTemplate"}}}},"403":{"description":"User does not have permission to update this meal plan template."},"404":{"description":"Meal plan template not found."}}},"delete":{"summary":"Delete a meal plan template","tags":["Nutrition & Meals"],"description":"Deletes a specific meal plan template.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal plan template to delete."}],"responses":{"204":{"description":"Meal plan template deleted successfully."},"403":{"description":"User does not have permission to delete this meal plan template."},"404":{"description":"Meal plan template not found."}}}},"/meals/plan":{"post":{"summary":"Create a new meal plan entry","tags":["Nutrition & Meals"],"description":"Creates a new meal plan entry for the authenticated user.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"meal_plan_template_id":{"type":"string","format":"uuid","description":"The ID of the meal plan template to use."},"plan_date":{"type":"string","format":"date","description":"The date for which the meal plan is created."},"meals":{"type":"array","items":{"type":"object","properties":{"meal_type":{"type":"string","description":"The type of meal (e.g., \"Breakfast\")."},"food_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"List of food IDs included in this meal."}}}}},"required":["meal_plan_template_id","plan_date","meals"]}}}},"responses":{"201":{"description":"The meal plan entry was created successfully."},"400":{"description":"Invalid request body."},"403":{"description":"User does not have permission to create a meal plan entry."}}},"get":{"summary":"Get meal plan entries for a specific date or date range","tags":["Nutrition & Meals"],"description":"Retrieves meal plan entries for the authenticated user within a specified date range.","parameters":[{"in":"query","name":"startDate","schema":{"type":"string","format":"date"},"required":true,"description":"The start date of the range (YYYY-MM-DD)."},{"in":"query","name":"endDate","schema":{"type":"string","format":"date"},"required":true,"description":"The end date of the range (YYYY-MM-DD)."}],"responses":{"200":{"description":"A list of meal plan entries."},"400":{"description":"startDate and endDate are required."},"403":{"description":"User does not have permission to access this resource."}}}},"/meals/plan/{id}":{"put":{"summary":"Update a meal plan entry","tags":["Nutrition & Meals"],"description":"Updates an existing meal plan entry.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal plan entry to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"meal_plan_template_id":{"type":"string","format":"uuid","description":"The ID of the meal plan template to use."},"plan_date":{"type":"string","format":"date","description":"The date for which the meal plan is created."},"meals":{"type":"array","items":{"type":"object","properties":{"meal_type":{"type":"string","description":"The type of meal (e.g., \"Breakfast\")."},"food_ids":{"type":"array","items":{"type":"string","format":"uuid"},"description":"List of food IDs included in this meal."}}}}},"required":["meal_plan_template_id","plan_date","meals"]}}}},"responses":{"200":{"description":"The meal plan entry was updated successfully."},"403":{"description":"User does not have permission to update this meal plan entry."},"404":{"description":"Meal plan entry not found."}}},"delete":{"summary":"Delete a meal plan entry","tags":["Nutrition & Meals"],"description":"Deletes a specific meal plan entry.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal plan entry to delete."}],"responses":{"200":{"description":"Meal plan entry deleted successfully."},"403":{"description":"User does not have permission to delete this meal plan entry."},"404":{"description":"Meal plan entry not found."}}}},"/meals":{"post":{"summary":"Create a new meal template","tags":["Nutrition & Meals"],"description":"Creates a new meal template for the authenticated user.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The name of the meal."},"description":{"type":"string","description":"A description of the meal."},"is_public":{"type":"boolean","description":"Whether the meal is publicly visible."},"foods":{"type":"array","items":{"type":"object","properties":{"food_id":{"type":"string","format":"uuid"},"quantity":{"type":"number"},"unit":{"type":"string"}},"required":["food_id","quantity","unit"]}}},"required":["name","foods"]}}}},"responses":{"201":{"description":"The meal was created successfully."},"403":{"description":"User does not have permission to create a meal."}}},"get":{"summary":"Get all meal templates for the user","tags":["Nutrition & Meals"],"description":"Retrieves all meal templates owned by the authenticated user, and public ones.","parameters":[{"in":"query","name":"filter","schema":{"type":"string"},"description":"Filter meals (e.g., \"public\", \"private\")."},{"in":"query","name":"search","schema":{"type":"string"},"description":"Search term for meal names."}],"responses":{"200":{"description":"A list of meal templates."},"403":{"description":"User does not have permission to access this resource."}}}},"/meals/search":{"get":{"summary":"Search for meal templates","tags":["Nutrition & Meals"],"description":"Searches for meal templates based on a search term.","parameters":[{"in":"query","name":"searchTerm","schema":{"type":"string"},"required":true,"description":"The term to search for."}],"responses":{"200":{"description":"A list of meal templates matching the search term."},"400":{"description":"Search term is required."}}}},"/meals/{id}":{"get":{"summary":"Get a specific meal template by ID","tags":["Nutrition & Meals"],"description":"Retrieves a specific meal template by its ID.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal template to retrieve."}],"responses":{"200":{"description":"The requested meal template."},"403":{"description":"User does not have permission to access this resource."},"404":{"description":"Meal not found."}}},"put":{"summary":"Update an existing meal template","tags":["Nutrition & Meals"],"description":"Updates an existing meal template.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal template to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The name of the meal."},"description":{"type":"string","description":"A description of the meal."},"is_public":{"type":"boolean","description":"Whether the meal is publicly visible."},"foods":{"type":"array","items":{"type":"object","properties":{"food_id":{"type":"string","format":"uuid"},"quantity":{"type":"number"},"unit":{"type":"string"}},"required":["food_id","quantity","unit"]}}},"required":["name","foods"]}}}},"responses":{"200":{"description":"The meal template was updated successfully."},"403":{"description":"User does not have permission to update this meal."},"404":{"description":"Meal not found."}}},"delete":{"summary":"Delete a meal template","tags":["Nutrition & Meals"],"description":"Deletes a specific meal template.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal template to delete."}],"responses":{"200":{"description":"Meal deleted successfully."},"403":{"description":"User does not have permission to delete this meal."},"404":{"description":"Meal not found."}}}},"/meals/{id}/deletion-impact":{"get":{"summary":"Get the deletion impact for a meal","tags":["Nutrition & Meals"],"description":"Retrieves the impact of deleting a specific meal template.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal to check."}],"responses":{"200":{"description":"The deletion impact report."},"403":{"description":"User does not have permission to access this resource."},"404":{"description":"Meal not found."}}}},"/meals/plan/{id}/log-to-diary":{"post":{"summary":"Log a specific meal plan entry to the food diary","tags":["Nutrition & Meals"],"description":"Logs a specific meal plan entry to the user's food diary for a target date.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal plan entry to log."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"target_date":{"type":"string","format":"date","description":"The date to log the meal plan entry to."}},"required":["target_date"]}}}},"responses":{"201":{"description":"The food entries were created successfully."},"403":{"description":"User does not have permission to perform this action."},"404":{"description":"Meal plan entry or associated meal template not found."}}}},"/meals/plan/log-day-to-diary":{"post":{"summary":"Log all meal plan entries for a specific day to the food diary","tags":["Nutrition & Meals"],"description":"Logs all meal plan entries for a given plan date to the user's food diary for a target date.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"plan_date":{"type":"string","format":"date","description":"The date of the meal plan to log."},"target_date":{"type":"string","format":"date","description":"The date to log the meal plan entries to."}},"required":["plan_date","target_date"]}}}},"responses":{"201":{"description":"The food entries were created successfully."},"400":{"description":"plan_date is required."},"403":{"description":"User does not have permission to perform this action."}}}},"/meals/needs-review":{"get":{"summary":"Get meals needing review","tags":["Nutrition & Meals"],"description":"Retrieves a list of meals that need to be reviewed.","responses":{"200":{"description":"A list of meals needing review."},"403":{"description":"User does not have permission to access this resource."}}}},"/meals/update-snapshot":{"post":{"summary":"Update meal entries snapshot","tags":["Nutrition & Meals"],"description":"Updates the snapshot of meal entries.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"mealId":{"type":"string","format":"uuid","description":"The ID of the meal to update the snapshot for."}},"required":["mealId"]}}}},"responses":{"200":{"description":"The result of the snapshot update."},"400":{"description":"mealId is required."},"403":{"description":"User does not have permission to perform this action."}}}},"/meals/create-meal-from-diary":{"post":{"summary":"Create a meal from diary entries","tags":["Nutrition & Meals"],"description":"Creates a new meal template from existing food diary entries for a specific date and meal type.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"date":{"type":"string","format":"date","description":"The date of the diary entries to use."},"mealType":{"type":"string","description":"The meal type of the diary entries to use."},"mealName":{"type":"string","description":"A name for the new meal template."},"description":{"type":"string","description":"A description for the new meal template."},"isPublic":{"type":"boolean","description":"Whether the new meal template should be publicly visible."}},"required":["date","mealType"]}}}},"responses":{"201":{"description":"The new meal template was created successfully."},"400":{"description":"Date and mealType are required, or no food entries found, or cannot create meal."},"403":{"description":"User does not have permission to perform this action."}}}},"/meal-types":{"get":{"summary":"Retrieve all meal types","tags":["Nutrition & Meals"],"description":"Retrieves all meal types available to the user, including system defaults and custom meal types.","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"A list of meal types.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MealType"}}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Failed to fetch meal types."}}},"post":{"summary":"Create a new custom meal type","tags":["Nutrition & Meals"],"description":"Creates a new custom meal type for the authenticated user.","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"type":"string","description":"The name of the new meal type (e.g., \"Pre-Workout\")."},"sort_order":{"type":"integer","description":"The sort order for the meal type.","nullable":true}}}}}},"responses":{"201":{"description":"The new meal type was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealType"}}}},"400":{"description":"Invalid request body, name is required."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"409":{"description":"A meal type with the given name already exists."},"500":{"description":"Failed to create meal type."}}}},"/meal-types/{id}":{"get":{"summary":"Retrieve a single meal type by ID","tags":["Nutrition & Meals"],"description":"Retrieves a single meal type by its ID.","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal type to retrieve."}],"responses":{"200":{"description":"The requested meal type.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealType"}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"404":{"description":"Meal type not found."},"500":{"description":"Failed to fetch meal type."}}},"put":{"summary":"Update a meal type","tags":["Nutrition & Meals"],"description":"Updates an existing custom meal type. System default meal types cannot be updated.","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal type to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The new name for the meal type."},"sort_order":{"type":"integer","description":"The new sort order for the meal type.","nullable":true}}}}}},"responses":{"200":{"description":"The meal type was updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealType"}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"403":{"description":"Forbidden, system default meal types cannot be updated."},"404":{"description":"Meal type not found."},"500":{"description":"Failed to update meal type."}}},"delete":{"summary":"Delete a custom meal type","tags":["Nutrition & Meals"],"description":"Deletes a custom meal type. System default meal types cannot be deleted.","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the meal type to delete."}],"responses":{"200":{"description":"Meal type deleted successfully."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"403":{"description":"Forbidden, system default meal types cannot be deleted."},"404":{"description":"Meal type not found or cannot be deleted."},"409":{"description":"Conflict, meal type contains food entries and cannot be deleted."},"500":{"description":"Failed to delete meal type."}}}},"/measurements/health-data":{"post":{"summary":"Submit health data via API Key","tags":["Wellness & Metrics"],"description":"Receives health data (e.g., from a mobile app) via an authorized API key.","security":[{"apiKeyAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","description":"Flexible health data object."}}}}},"responses":{"200":{"description":"Health data processed successfully."},"400":{"description":"Invalid JSON format."},"401":{"description":"Unauthorized (missing or invalid API key)."},"403":{"description":"Forbidden (API key lacks write permission)."}}}},"/measurements/water-intake/{date}":{"get":{"summary":"Get water intake for a date","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"date","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Water intake data.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WaterIntake"}}}}}}},"/measurements/water-intake":{"post":{"summary":"Upsert water intake","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"entry_date":{"type":"string","format":"date"},"change_drinks":{"type":"number"},"container_id":{"type":"string","format":"uuid"}},"required":["entry_date","change_drinks","container_id"]}}}},"responses":{"200":{"description":"Water intake upserted successfully."}}}},"/measurements/water-intake/entry/{id}":{"get":{"summary":"Get a specific water intake entry by ID","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"The water intake entry."}}}},"/measurements/water-intake/{id}":{"put":{"summary":"Update a water intake entry","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WaterIntake"}}}},"responses":{"200":{"description":"Water intake entry updated successfully."}}},"delete":{"summary":"Delete a water intake entry","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Water intake entry deleted successfully."}}}},"/measurements/check-in":{"post":{"summary":"Upsert check-in measurements","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"entry_date":{"type":"string","format":"date"},"weight":{"type":"number"},"body_fat_percentage":{"type":"number"},"waist_circumference":{"type":"number"}},"required":["entry_date"]}}}},"responses":{"200":{"description":"Check-in measurements upserted successfully."}}}},"/measurements/check-in/latest-on-or-before-date":{"get":{"summary":"Get latest check-in measurements on or before a date","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"date","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"The latest check-in measurements."}}}},"/measurements/check-in/{date}":{"get":{"summary":"Get check-in measurements for a specific date","tags":["Nutrition & Meals"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"date","required":true,"schema":{"type":"string","format":"date"}},{"in":"query","name":"userId","schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Check-in measurements for the date."},"500":{"description":"Internal server error."}}}},"/measurements/check-in/{id}":{"put":{"summary":"Update a check-in measurement entry","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"entry_date":{"type":"string","format":"date"}},"required":["entry_date"]}}}},"responses":{"200":{"description":"Measurement updated successfully."}}},"delete":{"summary":"Delete a check-in measurement entry","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Measurement deleted successfully."}}}},"/measurements/custom-categories":{"get":{"summary":"Get all custom measurement categories","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"A list of custom measurement categories.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomMeasurementCategory"}}}}}}},"post":{"summary":"Create a new custom measurement category","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomMeasurementCategory"}}}},"responses":{"201":{"description":"Custom category created successfully."}}}},"/measurements/custom-entries":{"post":{"summary":"Upsert a custom measurement entry","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomMeasurementEntry"}}}},"responses":{"201":{"description":"Custom entry upserted successfully."}}},"get":{"summary":"Get custom measurement entries with filtering","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"limit","schema":{"type":"integer"}},{"in":"query","name":"orderBy","schema":{"type":"string"}},{"in":"query","name":"category_id","schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"List of custom measurement entries."}}}},"/measurements/custom-entries/{id}":{"delete":{"summary":"Delete a custom measurement entry","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Entry deleted successfully."}}}},"/measurements/custom-categories/{id}":{"put":{"summary":"Update a custom measurement category","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomMeasurementCategory"}}}},"responses":{"200":{"description":"Category updated successfully."}}},"delete":{"summary":"Delete a custom measurement category","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Category deleted successfully."}}}},"/measurements/check-in-measurements-range/{startDate}/{endDate}":{"get":{"summary":"Get check-in measurements within a date range","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"startDate","required":true,"schema":{"type":"string","format":"date"}},{"in":"path","name":"endDate","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"List of check-in measurements."}}}},"/measurements/custom-measurements-range/{categoryId}/{startDate}/{endDate}":{"get":{"summary":"Get custom measurements within a date range","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"categoryId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"startDate","required":true,"schema":{"type":"string","format":"date"}},{"in":"path","name":"endDate","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"List of custom measurements."}}}},"/measurements/most-recent/{measurementType}":{"get":{"summary":"Get most recent measurement of a specific type","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"measurementType","required":true,"schema":{"type":"string"},"description":"weight, steps, body_fat_percentage, etc."}],"responses":{"200":{"description":"The most recent measurement."}}}},"/mood":{"post":{"summary":"Create or update a mood entry","tags":["Wellness & Metrics"],"description":"Creates a new mood entry or updates an existing one for the authenticated user and specified date.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"mood_value":{"type":"integer","description":"The mood value (e.g., 1-5)."},"notes":{"type":"string","description":"Optional notes about the mood."},"entry_date":{"type":"string","format":"date","description":"The date of the entry (YYYY-MM-DD)."}},"required":["mood_value","entry_date"]}}}},"responses":{"201":{"description":"Mood entry created or updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MoodEntry"}}}},"400":{"description":"Mood value is required."},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}},"get":{"summary":"Get mood entries within a date range","tags":["Wellness & Metrics"],"description":"Retrieves mood entries for a specific user and date range.","security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"userId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the user to fetch entries for."},{"in":"query","name":"startDate","required":true,"schema":{"type":"string","format":"date"},"description":"Start date (YYYY-MM-DD)."},{"in":"query","name":"endDate","required":true,"schema":{"type":"string","format":"date"},"description":"End date (YYYY-MM-DD)."}],"responses":{"200":{"description":"A list of mood entries.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MoodEntry"}}}}},"400":{"description":"Missing required query parameters."},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/mood/{id}":{"get":{"summary":"Get a mood entry by ID","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"The mood entry.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MoodEntry"}}}},"404":{"description":"Mood entry not found."}}},"put":{"summary":"Update a mood entry","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"mood_value":{"type":"integer"},"notes":{"type":"string"}}}}}},"responses":{"200":{"description":"Updated mood entry."}}},"delete":{"summary":"Delete a mood entry","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"204":{"description":"Deleted successfully."},"404":{"description":"Not found."}}}},"/mood/date/{entryDate}":{"get":{"summary":"Get a mood entry by date","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"entryDate","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"The mood entry for the date (or empty object if not found)."}}}},"/nutrient-display-preferences":{"get":{"summary":"Get all nutrient display preferences for the logged-in user","tags":["Nutrition & Meals"],"description":"Retrieves all nutrient display preferences for the authenticated user.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"A list of nutrient display preferences.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NutrientDisplayPreference"}}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Failed to fetch nutrient display preferences."}}}},"/nutrient-display-preferences/{viewGroup}/{platform}":{"put":{"summary":"Upsert a nutrient display preference","tags":["Nutrition & Meals"],"description":"Creates or updates a nutrient display preference for a specific view group and platform for the authenticated user.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"viewGroup","required":true,"schema":{"type":"string"},"description":"The group for which the preference applies (e.g., \"daily\", \"meal\")."},{"in":"path","name":"platform","required":true,"schema":{"type":"string"},"description":"The platform for which the preference applies (e.g., \"web\", \"mobile\")."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["visible_nutrients"],"properties":{"visible_nutrients":{"type":"array","items":{"type":"string"},"description":"An array of nutrient names that should be visible."}}}}}},"responses":{"200":{"description":"The nutrient display preference was upserted successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NutrientDisplayPreference"}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Failed to upsert nutrient display preference."}}},"delete":{"summary":"Reset a nutrient display preference to default","tags":["Nutrition & Meals"],"description":"Resets a specific nutrient display preference to its default settings for the authenticated user.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"viewGroup","required":true,"schema":{"type":"string"},"description":"The group for which the preference applies (e.g., \"daily\", \"meal\")."},{"in":"path","name":"platform","required":true,"schema":{"type":"string"},"description":"The platform for which the preference applies (e.g., \"web\", \"mobile\")."}],"responses":{"200":{"description":"The nutrient display preference was reset successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NutrientDisplayPreference"}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Failed to reset nutrient display preference."}}}},"/oidc-settings":{"get":{"summary":"Get all OIDC Providers (Admin Only)","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"List of OIDC providers.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OidcProvider"}}}}}}},"post":{"summary":"Create a new OIDC Provider (Admin Only)","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OidcProvider"}}}},"responses":{"201":{"description":"Created successfully."}}}},"/oidc-settings/{id}":{"get":{"summary":"Get a single OIDC Provider by ID (Admin Only)","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"The OIDC provider.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OidcProvider"}}}}}},"put":{"summary":"Update an OIDC Provider (Admin Only)","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OidcProvider"}}}},"responses":{"200":{"description":"Updated successfully."}}},"delete":{"summary":"DELETE an OIDC Provider (Admin Only)","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Deleted successfully."}}}},"/oidc-settings/{id}/logo":{"post":{"summary":"POST a logo for an OIDC Provider (Admin Only)","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"logo":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"Logo uploaded successfully."}}}},"/onboarding":{"post":{"summary":"Submit user onboarding data","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"sex":{"type":"string"},"primaryGoal":{"type":"string"},"currentWeight":{"type":"number"},"height":{"type":"number"},"birthDate":{"type":"string","format":"date"},"activityLevel":{"type":"string"},"targetWeight":{"type":"number"}},"required":["sex","primaryGoal","currentWeight","height","birthDate","activityLevel","targetWeight"]}}}},"responses":{"201":{"description":"Onboarding completed successfully."}}}},"/onboarding/status":{"get":{"summary":"Check if the current user has completed onboarding","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Onboarding status.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OnboardingStatus"}}}}}}},"/onboarding/reset":{"post":{"summary":"Reset onboarding status for the user","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Onboarding status reset successfully."}}}},"/preferences":{"put":{"summary":"Update user preferences","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPreferences"}}}},"responses":{"200":{"description":"Preferences updated successfully."}}},"delete":{"summary":"Delete user preferences","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Preferences deleted successfully."}}},"get":{"summary":"Get user preferences","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"User preferences.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPreferences"}}}}}},"post":{"summary":"Upsert user preferences","tags":["Goals & Personalization"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPreferences"}}}},"responses":{"200":{"description":"Preferences upserted successfully."}}}},"/reports":{"get":{"summary":"Get comprehensive reports data","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"userId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"startDate","required":true,"schema":{"type":"string","format":"date"}},{"in":"query","name":"endDate","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Reports data."}}}},"/reports/mini-nutrition-trends":{"get":{"summary":"Get mini nutrition trends","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"userId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"startDate","required":true,"schema":{"type":"string","format":"date"}},{"in":"query","name":"endDate","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Mini nutrition trends."}}}},"/reports/nutrition-trends-with-goals":{"get":{"summary":"Get nutrition trends with goals","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"userId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"startDate","required":true,"schema":{"type":"string","format":"date"}},{"in":"query","name":"endDate","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Nutrition trends with goals."}}}},"/reports/exercise-dashboard":{"get":{"summary":"Get exercise dashboard data","tags":["AI & Insights"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"userId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"startDate","required":true,"schema":{"type":"string","format":"date"}},{"in":"query","name":"endDate","required":true,"schema":{"type":"string","format":"date"}},{"in":"query","name":"equipment","schema":{"type":"string"}},{"in":"query","name":"muscle","schema":{"type":"string"}},{"in":"query","name":"exercise","schema":{"type":"string"}}],"responses":{"200":{"description":"Exercise dashboard data."}}}},"/reviews/needs-review-count":{"get":{"summary":"Get the count of items needing review","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Count of items.","content":{"application/json":{"schema":{"type":"object","properties":{"count":{"type":"integer"}}}}}}}}},"/reviews/needs-review":{"get":{"summary":"Get the list of items needing review","tags":["System & Admin"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"List of items needing review.","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"type":{"type":"string","enum":["food","exercise"]},"name":{"type":"string"}}}}}}}}}},"/sleep/analytics":{"get":{"summary":"Get sleep analytics","tags":["Wellness & Metrics"],"description":"Retrieves aggregated sleep analytics for a specific date range.","security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"startDate","required":true,"schema":{"type":"string","format":"date"},"description":"Start date (YYYY-MM-DD)."},{"in":"query","name":"endDate","required":true,"schema":{"type":"string","format":"date"},"description":"End date (YYYY-MM-DD)."}],"responses":{"200":{"description":"Sleep analytics data.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SleepAnalytics"}}}}},"400":{"description":"Missing required query parameters."},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/sleep/manual_entry":{"post":{"summary":"Create a manual sleep entry","tags":["Wellness & Metrics"],"description":"Allows the user to manually enter sleep data.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"entry_date":{"type":"string","format":"date"},"bedtime":{"type":"string","format":"date-time"},"wake_time":{"type":"string","format":"date-time"},"duration_in_seconds":{"type":"integer"},"stage_events":{"type":"array","items":{"type":"object"}}},"required":["entry_date","bedtime","wake_time","duration_in_seconds"]}}}},"responses":{"200":{"description":"Sleep entry processed successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SleepEntry"}}}}}}},"/sleep":{"get":{"summary":"Get sleep entries within a date range","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"startDate","required":true,"schema":{"type":"string","format":"date"}},{"in":"query","name":"endDate","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"A list of sleep entries.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SleepEntry"}}}}}}}},"/sleep/details":{"get":{"summary":"Get sleep entries details within a date range","tags":["Wellness & Metrics"],"description":"This endpoint currently returns the same as the main GET /sleep endpoint.","security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"startDate","required":true,"schema":{"type":"string","format":"date"}},{"in":"query","name":"endDate","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Sleep entries details."}}}},"/sleep/{id}":{"put":{"summary":"Update an existing sleep entry","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"bedtime":{"type":"string","format":"date-time"},"wake_time":{"type":"string","format":"date-time"},"duration_in_seconds":{"type":"integer"},"stage_events":{"type":"array","items":{"type":"object"}}}}}}},"responses":{"200":{"description":"Sleep entry updated successfully."}}},"delete":{"summary":"Delete a sleep entry","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Sleep entry deleted successfully."}}}},"/version/current":{"get":{"summary":"Get current app version","tags":["System & Admin"],"responses":{"200":{"description":"App version.","content":{"application/json":{"schema":{"type":"object","properties":{"version":{"type":"string"}}}}}}}}},"/version/latest-github":{"get":{"summary":"Get latest GitHub release","tags":["System & Admin"],"responses":{"200":{"description":"Latest release."}}}},"/water-containers":{"post":{"summary":"Create a new water container","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WaterContainer"}}}},"responses":{"201":{"description":"Water container created successfully."}}},"get":{"summary":"Get all water containers for the user","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"A list of water containers.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WaterContainer"}}}}}}}},"/water-containers/{id}":{"put":{"summary":"Update a water container","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WaterContainer"}}}},"responses":{"200":{"description":"Water container updated successfully."}}},"delete":{"summary":"Delete a water container","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Deleted successfully."}}}},"/water-containers/{id}/set-primary":{"put":{"summary":"Set a water container as primary","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Primary container set successfully."}}}},"/water-containers/primary":{"get":{"summary":"Get the primary water container for the user","tags":["Wellness & Metrics"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"The primary water container."}}}},"/weekly-goal-plans":{"post":{"summary":"Create a new weekly goal plan","tags":["Goals & Personalization"],"description":"Creates a new weekly goal plan for the authenticated user.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WeeklyGoalPlan"}}}},"responses":{"201":{"description":"The weekly goal plan was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WeeklyGoalPlan"}}}},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}},"get":{"summary":"Get all weekly goal plans","tags":["Goals & Personalization"],"description":"Retrieves all weekly goal plans for the authenticated user.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"A list of weekly goal plans.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WeeklyGoalPlan"}}}}},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/weekly-goal-plans/active":{"get":{"summary":"Get the active weekly goal plan for a specific date","tags":["Goals & Personalization"],"description":"Retrieves the active weekly goal plan for the authenticated user on a specific date.","security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"date","required":true,"schema":{"type":"string","format":"date"},"description":"The date to check for an active plan (YYYY-MM-DD)."}],"responses":{"200":{"description":"The active weekly goal plan.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WeeklyGoalPlan"}}}},"400":{"description":"Date query parameter is required."},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/weekly-goal-plans/{id}":{"put":{"summary":"Update an existing weekly goal plan","tags":["Goals & Personalization"],"description":"Updates an existing weekly goal plan.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the weekly goal plan to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WeeklyGoalPlan"}}}},"responses":{"200":{"description":"The weekly goal plan was updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WeeklyGoalPlan"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Weekly goal plan not found or not authorized."},"500":{"description":"Internal server error."}}},"delete":{"summary":"Delete a weekly goal plan","tags":["Goals & Personalization"],"description":"Deletes a specific weekly goal plan.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the weekly goal plan to delete."}],"responses":{"204":{"description":"Weekly goal plan deleted successfully."},"401":{"description":"Unauthorized."},"404":{"description":"Weekly goal plan not found or not authorized."},"500":{"description":"Internal server error."}}}},"/integrations/withings/data":{"get":{"summary":"Get aggregated Withings data for display","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"startDate","required":true,"schema":{"type":"string","format":"date"}},{"in":"query","name":"endDate","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Aggregated Withings data."}}}},"/integrations/withings/authorize":{"get":{"summary":"Initiate Withings OAuth flow","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Authorization URL.","content":{"application/json":{"schema":{"type":"object","properties":{"authUrl":{"type":"string"}}}}}}}}},"/integrations/withings/callback":{"post":{"summary":"Handle Withings OAuth callback","tags":["External Integrations"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"},"state":{"type":"string"},"error":{"type":"string","nullable":true}}}}}},"responses":{"200":{"description":"Successfully linked."}}}},"/integrations/withings/sync":{"post":{"summary":"Manually trigger a Withings data sync","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Sync completed successfully."}}}},"/integrations/withings/disconnect":{"post":{"summary":"Disconnect a Withings account","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Disconnected successfully."}}}},"/integrations/withings/status":{"get":{"summary":"Get Withings connection status and last sync time","tags":["External Integrations"],"security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Connection status.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WithingsStatus"}}}}}}},"/workout-plan-templates":{"post":{"summary":"Create a new workout plan template","tags":["Fitness & Workouts"],"description":"Creates a new workout plan template for the authenticated user.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkoutPlanTemplate"}}}},"responses":{"201":{"description":"The workout plan template was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkoutPlanTemplate"}}}},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}},"get":{"summary":"Get all workout plan templates","tags":["Fitness & Workouts"],"description":"Retrieves all workout plan templates for the authenticated user.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"A list of workout plan templates.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WorkoutPlanTemplate"}}}}},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/workout-plan-templates/{id}":{"get":{"summary":"Get a specific workout plan template by ID","tags":["Fitness & Workouts"],"description":"Retrieves a specific workout plan template by its ID.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the workout plan template to retrieve."}],"responses":{"200":{"description":"The requested workout plan template.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkoutPlanTemplate"}}}},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"404":{"description":"Workout plan template not found."},"500":{"description":"Internal server error."}}},"put":{"summary":"Update an existing workout plan template","tags":["Fitness & Workouts"],"description":"Updates an existing workout plan template.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the workout plan template to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkoutPlanTemplate"}}}},"responses":{"200":{"description":"The workout plan template was updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkoutPlanTemplate"}}}},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"404":{"description":"Workout plan template not found or could not be updated."},"500":{"description":"Internal server error."}}},"delete":{"summary":"Delete a workout plan template","tags":["Fitness & Workouts"],"description":"Deletes a specific workout plan template.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the workout plan template to delete."}],"responses":{"200":{"description":"Workout plan template deleted successfully."},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"404":{"description":"Workout plan template not found or could not be deleted."},"500":{"description":"Internal server error."}}}},"/workout-plan-templates/active/{date}":{"get":{"summary":"Get the active workout plan for a specific date","tags":["Fitness & Workouts"],"description":"Retrieves the active workout plan for the authenticated user on a given date.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"date","required":true,"schema":{"type":"string","format":"date"},"description":"The date to check for an active plan (YYYY-MM-DD)."}],"responses":{"200":{"description":"The active workout plan for the date.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkoutPlanTemplate"}}}},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/workout-presets":{"post":{"summary":"Create a new workout preset","tags":["Fitness & Workouts"],"description":"Creates a new workout preset for the authenticated user.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkoutPreset"}}}},"responses":{"201":{"description":"The workout preset was created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkoutPreset"}}}},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}},"get":{"summary":"Get all workout presets","tags":["Fitness & Workouts"],"description":"Retrieves all workout presets available to the authenticated user (including public ones).","security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number for pagination."},{"in":"query","name":"limit","schema":{"type":"integer","default":10},"description":"Number of presets per page."}],"responses":{"200":{"description":"A paginated list of workout presets.","content":{"application/json":{"schema":{"type":"object","properties":{"presets":{"type":"array","items":{"$ref":"#/components/schemas/WorkoutPreset"}},"total":{"type":"integer"},"page":{"type":"integer"},"limit":{"type":"integer"}}}}}},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/workout-presets/{id}":{"get":{"summary":"Get a specific workout preset by ID","tags":["Fitness & Workouts"],"description":"Retrieves a specific workout preset by its ID.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the workout preset to retrieve."}],"responses":{"200":{"description":"The requested workout preset.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkoutPreset"}}}},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"404":{"description":"Workout preset not found."},"500":{"description":"Internal server error."}}},"put":{"summary":"Update an existing workout preset","tags":["Fitness & Workouts"],"description":"Updates an existing workout preset.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the workout preset to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkoutPreset"}}}},"responses":{"200":{"description":"The workout preset was updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkoutPreset"}}}},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"404":{"description":"Workout preset not found or could not be updated."},"500":{"description":"Internal server error."}}},"delete":{"summary":"Delete a workout preset","tags":["Fitness & Workouts"],"description":"Deletes a specific workout preset.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the workout preset to delete."}],"responses":{"200":{"description":"Workout preset deleted successfully."},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"404":{"description":"Workout preset not found or could not be deleted."},"500":{"description":"Internal server error."}}}},"/workout-presets/search":{"get":{"summary":"Search for workout presets","tags":["Fitness & Workouts"],"description":"Searches for workout presets based on a name search term.","security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"searchTerm","required":true,"schema":{"type":"string"},"description":"The name or part of the name to search for."},{"in":"query","name":"limit","schema":{"type":"integer"},"description":"Maximum number of results to return."}],"responses":{"200":{"description":"A list of workout presets matching the search term.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WorkoutPreset"}}}}},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/auth/user/generate-api-key":{"post":{"summary":"Generate an API key for the current user","tags":["Identity & Security"],"description":"Creates a new API key for the currently authenticated user.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["description"],"properties":{"description":{"type":"string"}}}}}},"responses":{"201":{"description":"API key generated successfully."},"400":{"description":"Invalid request body."},"403":{"description":"User is not authorized to generate an API key."}}}},"/auth/user/api-key/{apiKeyId}":{"delete":{"summary":"Delete an API key","tags":["Identity & Security"],"description":"Deletes a specific API key for the currently authenticated user.","parameters":[{"in":"path","name":"apiKeyId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"API key deleted successfully."},"403":{"description":"User is not authorized to delete this API key."},"404":{"description":"API key not found."}}}},"/auth/user-api-keys":{"get":{"summary":"Get the current user's API keys","tags":["Identity & Security"],"description":"Retrieves a list of API keys for the currently authenticated user.","responses":{"200":{"description":"A list of API keys."},"403":{"description":"User is not authorized to access these API keys."}}}},"/auth/login":{"post":{"summary":"Logs in a user","tags":["Identity & Security"],"description":"Authenticates a user with an email and password.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"}}}}}},"responses":{"200":{"description":"Login successful."},"202":{"description":"MFA is required."},"401":{"description":"Invalid credentials or login method disabled."}}}},"/auth/settings":{"get":{"summary":"Get login settings","tags":["Identity & Security"],"description":"Retrieves the current login settings, including enabled authentication methods (email/password, OIDC) and active OIDC providers.","responses":{"200":{"description":"Login settings retrieved successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"object","properties":{"enabled":{"type":"boolean","description":"Whether email/password login is enabled."}}},"oidc":{"type":"object","properties":{"enabled":{"type":"boolean","description":"Whether OIDC login is enabled and at least one provider is active."},"providers":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The ID of the OIDC provider."},"display_name":{"type":"string","description":"The display name of the OIDC provider."},"logo_url":{"type":"string","description":"The URL to the OIDC provider's logo."}}}}}},"warning":{"type":"string","nullable":true,"description":"A warning message if no login methods are enabled, indicating a fallback to email/password."}}}}}},"500":{"description":"Server error."}}}},"/auth/logout":{"post":{"summary":"Logs out a user","tags":["Identity & Security"],"description":"Clears the user's session and authentication cookies.","responses":{"200":{"description":"Logout successful."}}}},"/auth/register":{"post":{"summary":"Registers a new user","tags":["Identity & Security"],"description":"Creates a new user account.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","password","full_name"],"properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"},"full_name":{"type":"string"}}}}}},"responses":{"201":{"description":"User registered successfully."},"400":{"description":"Invalid request body."},"403":{"description":"New user registration is disabled."},"409":{"description":"A user with this email already exists."}}}},"/auth/forgot-password":{"post":{"summary":"Request password reset","tags":["Identity & Security"],"description":"Sends a password reset email to the user if an account with the provided email exists.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email"],"properties":{"email":{"type":"string","format":"email","description":"The email address of the user requesting a password reset."}}}}}},"responses":{"200":{"description":"If a user with that email exists, a password reset email has been sent."},"400":{"description":"Invalid request body."},"500":{"description":"Server error."}}}},"/auth/reset-password":{"post":{"summary":"Reset password","tags":["Identity & Security"],"description":"Resets the user's password using a valid reset token.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["token","newPassword"],"properties":{"token":{"type":"string","description":"The password reset token received via email."},"newPassword":{"type":"string","format":"password","description":"The new password for the user."}}}}}},"responses":{"200":{"description":"Password has been reset successfully."},"400":{"description":"Invalid request body or password reset token is invalid or has expired."},"500":{"description":"Server error."}}}},"/auth/request-magic-link":{"post":{"summary":"Request a magic link for login","tags":["Identity & Security"],"description":"Sends a magic link to the user's email for passwordless login.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email"],"properties":{"email":{"type":"string","format":"email","description":"The email address to send the magic link to."}}}}}},"responses":{"200":{"description":"If an account with that email exists, a magic link has been sent."},"400":{"description":"Invalid request body."},"500":{"description":"Server error."}}}},"/auth/magic-link-login":{"get":{"summary":"Log in using a magic link","tags":["Identity & Security"],"description":"Verifies a magic link token and logs in the user.","parameters":[{"in":"query","name":"token","required":true,"schema":{"type":"string","description":"The magic link token received via email."}}],"responses":{"200":{"description":"Magic link login successful."},"202":{"description":"MFA is required after magic link login."},"400":{"description":"Magic link token is missing."},"401":{"description":"Invalid or expired magic link token."},"500":{"description":"Server error."}}}},"/auth/users/accessible-users":{"get":{"summary":"Get accessible users","tags":["Identity & Security"],"description":"Retrieves a list of users that the current authenticated user has access to.","responses":{"200":{"description":"A list of accessible users."},"403":{"description":"User is not authorized to access this resource."}}}},"/auth/access/can-access-user-data":{"get":{"summary":"Check if the current user can access another user's data","tags":["Identity & Security"],"description":"Verifies if the authenticated user has permission to access specific data of another user.","parameters":[{"in":"query","name":"targetUserId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"permissionType","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Access check result."},"400":{"description":"Missing targetUserId or permissionType."}}}},"/auth/access/check-family-access":{"get":{"summary":"Check family access permissions","tags":["Identity & Security"],"description":"Checks if the authenticated user has family access permissions to another user's data.","parameters":[{"in":"query","name":"ownerUserId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"permission","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Family access check result."},"400":{"description":"Missing ownerUserId or permission."}}}},"/auth/family-access":{"get":{"summary":"Get family access entries","tags":["Identity & Security"],"description":"Retrieves a list of family access entries where the authenticated user is either the owner or the family member.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"A list of family access entries.","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"The ID of the family access entry."},"owner_user_id":{"type":"string","format":"uuid","description":"The ID of the user who owns the data."},"family_user_id":{"type":"string","format":"uuid","description":"The ID of the family member who has access."},"family_email":{"type":"string","format":"email","description":"The email of the family member."},"access_permissions":{"type":"object","description":"JSONB object defining the access permissions."}}}}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Server error."}}},"post":{"summary":"Create a new family access entry","tags":["Identity & Security"],"description":"Creates a new family access entry, allowing another user to access the authenticated user's data.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["family_user_id","family_email","access_permissions"],"properties":{"family_user_id":{"type":"string","format":"uuid","description":"The ID of the family member to grant access to."},"family_email":{"type":"string","format":"email","description":"The email of the family member."},"access_permissions":{"type":"object","description":"JSONB object defining the access permissions."}}}}}},"responses":{"201":{"description":"Family access entry created successfully."},"400":{"description":"Missing required fields."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"403":{"description":"User is not authorized to create this entry."},"500":{"description":"Server error."}}}},"/auth/family-access/{id}":{"put":{"summary":"Update a family access entry","tags":["Identity & Security"],"description":"Updates an existing family access entry.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid","description":"The ID of the family access entry to update."}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"family_user_id":{"type":"string","format":"uuid","description":"The ID of the family member."},"family_email":{"type":"string","format":"email","description":"The email of the family member."},"access_permissions":{"type":"object","description":"JSONB object defining the access permissions."}}}}}},"responses":{"200":{"description":"Family access entry updated successfully."},"400":{"description":"Family Access ID is required."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"403":{"description":"User is not authorized to update this entry."},"404":{"description":"Family access entry not found or not authorized to update."},"500":{"description":"Server error."}}},"delete":{"summary":"Delete a family access entry","tags":["Identity & Security"],"description":"Deletes a specific family access entry.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid","description":"The ID of the family access entry to delete."}}],"responses":{"200":{"description":"Family access entry deleted successfully."},"400":{"description":"Family Access ID is required."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"403":{"description":"User is not authorized to delete this entry."},"404":{"description":"Family access entry not found or not authorized to delete."},"500":{"description":"Server error."}}}},"/auth/mfa/status":{"get":{"summary":"Get MFA status","tags":["Identity & Security"],"description":"Retrieves the Multi-Factor Authentication (MFA) status for the authenticated user.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"MFA status retrieved successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"mfa_totp_enabled":{"type":"boolean","description":"True if TOTP MFA is enabled."},"mfa_email_enabled":{"type":"boolean","description":"True if Email MFA is enabled."},"mfa_recovery_codes_enabled":{"type":"boolean","description":"True if MFA recovery codes are enabled."}}}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Server error."}}}},"/auth/mfa/setup/totp":{"post":{"summary":"Setup TOTP MFA","tags":["Identity & Security"],"description":"Initiates the setup process for Time-based One-Time Password (TOTP) MFA, returning a secret and OTPAuth URL.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"TOTP setup initiated successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"secret":{"type":"string","description":"The TOTP secret key."},"otpauthUrl":{"type":"string","description":"The OTPAuth URL for QR code generation."}}}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Server error."}}}},"/auth/mfa/verify/totp":{"post":{"summary":"Verify TOTP code","tags":["Identity & Security"],"description":"Verifies a TOTP code provided by the user. If successful, issues a new JWT token.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["code"],"properties":{"code":{"type":"string","description":"The TOTP code to verify."}}}}}},"responses":{"200":{"description":"TOTP verified and login successful."},"400":{"description":"Invalid request body."},"401":{"description":"Invalid TOTP code or unauthorized."},"500":{"description":"Server error."}}}},"/auth/mfa/enable/totp":{"post":{"summary":"Enable TOTP MFA","tags":["Identity & Security"],"description":"Enables TOTP MFA for the authenticated user after successful verification of a TOTP code.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["code"],"properties":{"code":{"type":"string","description":"The TOTP code to verify and enable."}}}}}},"responses":{"200":{"description":"TOTP enabled successfully."},"400":{"description":"Invalid request body."},"401":{"description":"Invalid TOTP code or unauthorized."},"500":{"description":"Server error."}}}},"/auth/mfa/disable/totp":{"post":{"summary":"Disable TOTP MFA","tags":["Identity & Security"],"description":"Disables TOTP MFA for the authenticated user.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"TOTP disabled successfully."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Server error."}}}},"/auth/mfa/enable/email":{"post":{"summary":"Enable Email MFA","tags":["Identity & Security"],"description":"Enables Email MFA for the authenticated user.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Email MFA enabled successfully."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Server error."}}}},"/auth/mfa/disable/email":{"post":{"summary":"Disable Email MFA","tags":["Identity & Security"],"description":"Disables Email MFA for the authenticated user.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Email MFA disabled successfully."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Server error."}}}},"/auth/mfa/request-email-code":{"post":{"summary":"Request Email MFA code","tags":["Identity & Security"],"description":"Requests an Email MFA code to be sent to the authenticated user's email address.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Email MFA code sent."},"400":{"description":"Email MFA is not enabled for this user."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Server error."}}}},"/auth/mfa/verify-email-code":{"post":{"summary":"Verify Email MFA code","tags":["Identity & Security"],"description":"Verifies an Email MFA code provided by the user. If successful, issues a new JWT token.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["code"],"properties":{"code":{"type":"string","description":"The Email MFA code to verify."}}}}}},"responses":{"200":{"description":"Email MFA code verified. Login successful."},"400":{"description":"Invalid request body."},"401":{"description":"Invalid or expired email MFA code or unauthorized."},"500":{"description":"Server error."}}}},"/auth/mfa/recovery-codes":{"post":{"summary":"Generate MFA recovery codes","tags":["Identity & Security"],"description":"Generates a new set of MFA recovery codes for the authenticated user.","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Recovery codes generated successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"recoveryCodes":{"type":"array","items":{"type":"string"},"description":"An array of new recovery codes."}}}}}},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"500":{"description":"Server error."}}}},"/auth/mfa/verify-recovery-code":{"post":{"summary":"Verify MFA recovery code","tags":["Identity & Security"],"description":"Verifies an MFA recovery code. If successful, issues a new JWT token.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["code","userId"],"properties":{"code":{"type":"string","description":"The recovery code to verify."},"userId":{"type":"string","format":"uuid","description":"The ID of the user attempting to log in with a recovery code."}}}}}},"responses":{"200":{"description":"Recovery code verified. Login successful."},"400":{"description":"Invalid request body."},"401":{"description":"Invalid recovery code."},"404":{"description":"User not found."},"500":{"description":"Server error."}}}},"/auth/user":{"get":{"summary":"Get current user's information","tags":["Identity & Security"],"description":"Retrieves the profile information for the currently authenticated user.","responses":{"200":{"description":"The user's profile information."},"404":{"description":"User not found."}}}},"/auth/switch-context":{"post":{"summary":"Switch active user context","tags":["Identity & Security"],"description":"Switches the active user identity for the current session.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["targetUserId"],"properties":{"targetUserId":{"type":"string","format":"uuid"}}}}}},"responses":{"200":{"description":"Context switched successfully."},"403":{"description":"Forbidden."},"500":{"description":"Internal server error."}}}},"/auth/users/find-by-email":{"get":{"summary":"Find a user by email","tags":["Identity & Security"],"description":"Retrieves the user ID for a given email address.","parameters":[{"in":"query","name":"email","required":true,"schema":{"type":"string","format":"email"}}],"responses":{"200":{"description":"The user ID."},"400":{"description":"Email parameter is missing."},"404":{"description":"User not found."}}}},"/auth/profiles":{"get":{"summary":"Get the current user's profile","tags":["Identity & Security"],"description":"Retrieves the profile for the currently authenticated user.","responses":{"200":{"description":"The user's profile information."},"403":{"description":"User is not authorized to access this profile."}}},"put":{"summary":"Update the current user's profile","tags":["Identity & Security"],"description":"Updates the profile for the currently authenticated user.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"full_name":{"type":"string"},"phone_number":{"type":"string"},"date_of_birth":{"type":"string","format":"date"},"bio":{"type":"string"},"avatar_url":{"type":"string"},"gender":{"type":"string"}}}}}},"responses":{"200":{"description":"Profile updated successfully."},"403":{"description":"User is not authorized to update this profile."},"404":{"description":"Profile not found or no changes made."}}}},"/auth/update-password":{"post":{"summary":"Update user password","tags":["Identity & Security"],"description":"Allows an authenticated user to update their password.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["newPassword"],"properties":{"newPassword":{"type":"string","format":"password","description":"The new password for the user."}}}}}},"responses":{"200":{"description":"Password updated successfully."},"400":{"description":"New password is required."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"404":{"description":"User not found."},"500":{"description":"Server error."}}}},"/auth/update-email":{"post":{"summary":"Update user email","tags":["Identity & Security"],"description":"Allows an authenticated user to update their email address. A verification process will be initiated for the new email.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["newEmail"],"properties":{"newEmail":{"type":"string","format":"email","description":"The new email address for the user."}}}}}},"responses":{"200":{"description":"Email update initiated. User will need to verify new email."},"400":{"description":"New email is required."},"401":{"description":"Unauthorized, authentication token is missing or invalid."},"404":{"description":"User not found."},"409":{"description":"Email already in use by another account."},"500":{"description":"Server error."}}}},"/auth/profiles/avatar":{"post":{"summary":"Upload user avatar","tags":["Identity & Security"],"description":"Uploads a new avatar image for the authenticated user.","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"avatar":{"type":"string","format":"binary","description":"The image file to upload (jpeg, jpg, png, gif)."}}}}}},"responses":{"200":{"description":"Avatar uploaded successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"avatar_url":{"type":"string"}}}}}},"400":{"description":"No file uploaded or invalid file type."},"401":{"description":"Unauthorized."},"500":{"description":"Internal server error."}}}},"/auth/profiles/avatar/{filename}":{"get":{"summary":"Get user avatar image","tags":["Identity & Security"],"description":"Retrieves the avatar image file by its filename.","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"filename","required":true,"schema":{"type":"string"},"description":"The filename of the avatar image."}],"responses":{"200":{"description":"The avatar image file.","content":{"image/*":{"schema":{"type":"string","format":"binary"}}}},"404":{"description":"Avatar not found."},"500":{"description":"Internal server error."}}}}}}